{"version":3,"file":"cdn-bundle.js","sources":["context.js","debug.js","REvent.js","layer/RLayer.js","layer/RLayerRaster.js","../node_modules/lru-cache/index.mjs","style/RStyle.js","RFeature.js","layer/RLayerBaseVector.js","style/RBaseStyle.js","style/RStroke.js","style/RFill.js","style/RImage.js","style/RRegularBase.js","style/RCircle.js","style/RRegularShape.js","style/RText.js","style/RBackground.js","style/RIcon.js","layer/RLayerGraticule.js","style/RStyleArray.js","layer/RLayerWebGL.js","control/RControlBase.js","interaction/RBaseInteraction.js","control/RScaleLine.js","control/RAttribution.js","control/RZoom.js","control/RZoomSlider.js","control/RRotate.js","control/RCustom.js","control/RLayers.js","control/ROverviewMap.js","control/RFullScreen.js","control/RMousePosition.js","control/RZoomToExtent.js","interaction/RPointer.js","interaction/RDragBox.js","interaction/RTranslate.js","interaction/RDraw.js","interaction/RModify.js","interaction/RDoubleClickZoom.js","interaction/RDragPan.js","interaction/RDragRotate.js","interaction/RDragZoom.js","interaction/RMouseWheelZoom.js","interaction/RPinchRotate.js","interaction/RPinchZoom.js","interaction/RKeyboardPan.js","interaction/RKeyboardZoom.js","ROverlay.js","RGeolocation.js","layer/RLayerCluster.js","layer/RLayerHeatmap.js","layer/RLayerImage.js","layer/RLayerStamen.js","layer/RLayerTile.js","layer/RLayerTileJSON.js","layer/RLayerTileWMS.js","layer/RLayerTileWebGL.js","layer/RLayerVector.js","layer/RLayerVectorImage.js","layer/RLayerVectorTile.js","layer/RLayerWMS.js","layer/RLayerWMTS.js","RMap.js","layer/ROSM.js","layer/ROSMWebGL.js","RPopup.js"],"sourcesContent":["import React from 'react';\nexport const RContext = React.createContext({});\n//# sourceMappingURL=context.js.map","/* istanbul ignore next */\nconst debug = typeof process === 'undefined' || typeof process.env.RLAYERS_DEBUG === 'undefined'\n    ? () => undefined\n    : // eslint-disable-next-line no-console\n        console.debug.bind(window.console);\nexport default debug;\n//# sourceMappingURL=debug.js.map","import React from 'react';\nimport { RContext } from './context';\nimport debug from './debug';\nexport class RlayersBase extends React.PureComponent {\n    // 'change' is available on all objects\n    olEventName(ev) {\n        return ev.substring(2).toLowerCase();\n    }\n    attachEventHandlers() {\n        var _a, _b;\n        const eventSources = (_a = this.eventSources) !== null && _a !== void 0 ? _a : [this.ol];\n        const newEvents = Object.keys(this.props).filter((p) => p.startsWith('on'));\n        const eventsToCheck = newEvents.concat(Object.keys((_b = this.handlers) !== null && _b !== void 0 ? _b : {}).filter((ev) => !newEvents.includes(ev)));\n        for (const p of eventsToCheck) {\n            if (this.handlers === undefined)\n                this.handlers = {};\n            if (this.handlers[p] !== undefined && this.props[p] === undefined) {\n                debug('removing previously installed handler', this, p, this.handlers[p]);\n                for (const source of eventSources)\n                    source.un(this.olEventName(p), this.handlers[p]);\n                this.handlers[p] = undefined;\n            }\n            if (this.handlers[p] === undefined && this.props[p] !== undefined) {\n                debug('installing handler', this, p, this.props[p]);\n                this.handlers[p] = (e) => this.props[p].call(this, e);\n                for (const source of eventSources)\n                    source.on(this.olEventName(p), this.handlers[p]);\n            }\n        }\n    }\n    // Used when replacing a source\n    attachOldEventHandlers(newSource) {\n        // No events have been attached yet\n        if (!this.handlers)\n            return;\n        const events = Object.keys(this.props).filter((p) => p.startsWith('on'));\n        for (const e of events) {\n            if (this.props[e]) {\n                debug('reinstalling existing handler', this, e, this.props[e]);\n                newSource.on(this.olEventName(e), this.handlers[e]);\n            }\n        }\n    }\n    refresh(prevProps) {\n        this.attachEventHandlers();\n    }\n    componentDidMount() {\n        debug('didMount', this);\n        this.refresh();\n    }\n    /* istanbul ignore next */\n    propsDiff(prev) {\n        if (this.props === null || prev === null) {\n            if (this.props !== prev) {\n                debug('null props differ', this.props, prev);\n                return true;\n            }\n            return false;\n        }\n        for (const k of Object.keys(this.props))\n            if (this.props[k] !== prev[k]) {\n                debug('because of', k, this.props[k], prev[k]);\n                return true;\n            }\n        return false;\n    }\n    componentDidUpdate(prevProps, prev, snap) {\n        if (this.props !== prevProps) {\n            debug('willRefresh', this, prevProps, this.props);\n            this.refresh(prevProps);\n        }\n    }\n    componentWillUnmount() {\n        var _a, _b;\n        debug('willUnmount', this, this.handlers);\n        const eventSources = (_a = this.eventSources) !== null && _a !== void 0 ? _a : [this.ol];\n        for (const h of Object.keys((_b = this.handlers) !== null && _b !== void 0 ? _b : {})) {\n            debug('cleaning up handler', this, h, this.handlers[h]);\n            if (this.handlers[h]) {\n                for (const source of eventSources)\n                    source.un(this.olEventName(h), this.handlers[h]);\n                this.handlers[h] = undefined;\n            }\n        }\n    }\n    render() {\n        return null;\n    }\n}\nRlayersBase.contextType = RContext;\n//# sourceMappingURL=REvent.js.map","import React from 'react';\nimport { RContext } from '../context';\nimport { RlayersBase } from '../REvent';\n/**\n * Abstract base class for all layers, not meant to be used directly\n */\nexport default class RLayer extends RlayersBase {\n    constructor(props, context) {\n        var _a, _b;\n        super(props, context);\n        if (!((_b = (_a = this.context) === null || _a === void 0 ? void 0 : _a.map) === null || _b === void 0 ? void 0 : _b.addLayer))\n            throw new Error('A layer must be part of a map');\n    }\n    refresh(prevProps) {\n        super.refresh(prevProps);\n        for (const p of [\n            'visible',\n            'opacity',\n            'zIndex',\n            'minResolution',\n            'maxResolution',\n            'minZoom',\n            'maxZoom'\n        ]) {\n            const m = p.charAt(0).toUpperCase() + p.substring(1);\n            if (this.props[p] !== (prevProps && prevProps[p]))\n                this.ol['set' + m](this.props[p]);\n        }\n        if (this.source && this.props.attributions)\n            this.source.setAttributions(this.props.attributions);\n        if (this.props.properties)\n            this.ol.setProperties(this.props.properties);\n    }\n    componentDidMount() {\n        super.componentDidMount();\n        this.context.map.addLayer(this.ol);\n    }\n    componentWillUnmount() {\n        super.componentWillUnmount();\n        this.context.map.removeLayer(this.ol);\n    }\n    render() {\n        return (React.createElement(\"div\", { className: '_rlayers_RLayer' },\n            React.createElement(RContext.Provider, { value: Object.assign(Object.assign({}, this.context), { layer: this.ol, source: this.source }) }, this.props.children)));\n    }\n}\n//# sourceMappingURL=RLayer.js.map","import { default as RLayer } from './RLayer';\n/** The common base of all tiled layers, not meant to be used directly */\nexport default class RLayerRaster extends RLayer {\n}\n//# sourceMappingURL=RLayerRaster.js.map","const perf =\n  typeof performance === 'object' &&\n  performance &&\n  typeof performance.now === 'function'\n    ? performance\n    : Date\n\nconst hasAbortController = typeof AbortController === 'function'\n\n// minimal backwards-compatibility polyfill\n// this doesn't have nearly all the checks and whatnot that\n// actual AbortController/Signal has, but it's enough for\n// our purposes, and if used properly, behaves the same.\nconst AC = hasAbortController\n  ? AbortController\n  : class AbortController {\n      constructor() {\n        this.signal = new AS()\n      }\n      abort(reason = new Error('This operation was aborted')) {\n        this.signal.reason = this.signal.reason || reason\n        this.signal.aborted = true\n        this.signal.dispatchEvent({\n          type: 'abort',\n          target: this.signal,\n        })\n      }\n    }\n\nconst hasAbortSignal = typeof AbortSignal === 'function'\n// Some polyfills put this on the AC class, not global\nconst hasACAbortSignal = typeof AC.AbortSignal === 'function'\nconst AS = hasAbortSignal\n  ? AbortSignal\n  : hasACAbortSignal\n  ? AC.AbortController\n  : class AbortSignal {\n      constructor() {\n        this.reason = undefined\n        this.aborted = false\n        this._listeners = []\n      }\n      dispatchEvent(e) {\n        if (e.type === 'abort') {\n          this.aborted = true\n          this.onabort(e)\n          this._listeners.forEach(f => f(e), this)\n        }\n      }\n      onabort() {}\n      addEventListener(ev, fn) {\n        if (ev === 'abort') {\n          this._listeners.push(fn)\n        }\n      }\n      removeEventListener(ev, fn) {\n        if (ev === 'abort') {\n          this._listeners = this._listeners.filter(f => f !== fn)\n        }\n      }\n    }\n\nconst warned = new Set()\nconst deprecatedOption = (opt, instead) => {\n  const code = `LRU_CACHE_OPTION_${opt}`\n  if (shouldWarn(code)) {\n    warn(code, `${opt} option`, `options.${instead}`, LRUCache)\n  }\n}\nconst deprecatedMethod = (method, instead) => {\n  const code = `LRU_CACHE_METHOD_${method}`\n  if (shouldWarn(code)) {\n    const { prototype } = LRUCache\n    const { get } = Object.getOwnPropertyDescriptor(prototype, method)\n    warn(code, `${method} method`, `cache.${instead}()`, get)\n  }\n}\nconst deprecatedProperty = (field, instead) => {\n  const code = `LRU_CACHE_PROPERTY_${field}`\n  if (shouldWarn(code)) {\n    const { prototype } = LRUCache\n    const { get } = Object.getOwnPropertyDescriptor(prototype, field)\n    warn(code, `${field} property`, `cache.${instead}`, get)\n  }\n}\n\nconst emitWarning = (...a) => {\n  typeof process === 'object' &&\n  process &&\n  typeof process.emitWarning === 'function'\n    ? process.emitWarning(...a)\n    : console.error(...a)\n}\n\nconst shouldWarn = code => !warned.has(code)\n\nconst warn = (code, what, instead, fn) => {\n  warned.add(code)\n  const msg = `The ${what} is deprecated. Please use ${instead} instead.`\n  emitWarning(msg, 'DeprecationWarning', code, fn)\n}\n\nconst isPosInt = n => n && n === Math.floor(n) && n > 0 && isFinite(n)\n\n/* istanbul ignore next - This is a little bit ridiculous, tbh.\n * The maximum array length is 2^32-1 or thereabouts on most JS impls.\n * And well before that point, you're caching the entire world, I mean,\n * that's ~32GB of just integers for the next/prev links, plus whatever\n * else to hold that many keys and values.  Just filling the memory with\n * zeroes at init time is brutal when you get that big.\n * But why not be complete?\n * Maybe in the future, these limits will have expanded. */\nconst getUintArray = max =>\n  !isPosInt(max)\n    ? null\n    : max <= Math.pow(2, 8)\n    ? Uint8Array\n    : max <= Math.pow(2, 16)\n    ? Uint16Array\n    : max <= Math.pow(2, 32)\n    ? Uint32Array\n    : max <= Number.MAX_SAFE_INTEGER\n    ? ZeroArray\n    : null\n\nclass ZeroArray extends Array {\n  constructor(size) {\n    super(size)\n    this.fill(0)\n  }\n}\n\nclass Stack {\n  constructor(max) {\n    if (max === 0) {\n      return []\n    }\n    const UintArray = getUintArray(max)\n    this.heap = new UintArray(max)\n    this.length = 0\n  }\n  push(n) {\n    this.heap[this.length++] = n\n  }\n  pop() {\n    return this.heap[--this.length]\n  }\n}\n\nclass LRUCache {\n  constructor(options = {}) {\n    const {\n      max = 0,\n      ttl,\n      ttlResolution = 1,\n      ttlAutopurge,\n      updateAgeOnGet,\n      updateAgeOnHas,\n      allowStale,\n      dispose,\n      disposeAfter,\n      noDisposeOnSet,\n      noUpdateTTL,\n      maxSize = 0,\n      maxEntrySize = 0,\n      sizeCalculation,\n      fetchMethod,\n      fetchContext,\n      noDeleteOnFetchRejection,\n      noDeleteOnStaleGet,\n      allowStaleOnFetchRejection,\n      allowStaleOnFetchAbort,\n      ignoreFetchAbort,\n    } = options\n\n    // deprecated options, don't trigger a warning for getting them if\n    // the thing being passed in is another LRUCache we're copying.\n    const { length, maxAge, stale } =\n      options instanceof LRUCache ? {} : options\n\n    if (max !== 0 && !isPosInt(max)) {\n      throw new TypeError('max option must be a nonnegative integer')\n    }\n\n    const UintArray = max ? getUintArray(max) : Array\n    if (!UintArray) {\n      throw new Error('invalid max value: ' + max)\n    }\n\n    this.max = max\n    this.maxSize = maxSize\n    this.maxEntrySize = maxEntrySize || this.maxSize\n    this.sizeCalculation = sizeCalculation || length\n    if (this.sizeCalculation) {\n      if (!this.maxSize && !this.maxEntrySize) {\n        throw new TypeError(\n          'cannot set sizeCalculation without setting maxSize or maxEntrySize'\n        )\n      }\n      if (typeof this.sizeCalculation !== 'function') {\n        throw new TypeError('sizeCalculation set to non-function')\n      }\n    }\n\n    this.fetchMethod = fetchMethod || null\n    if (this.fetchMethod && typeof this.fetchMethod !== 'function') {\n      throw new TypeError(\n        'fetchMethod must be a function if specified'\n      )\n    }\n\n    this.fetchContext = fetchContext\n    if (!this.fetchMethod && fetchContext !== undefined) {\n      throw new TypeError(\n        'cannot set fetchContext without fetchMethod'\n      )\n    }\n\n    this.keyMap = new Map()\n    this.keyList = new Array(max).fill(null)\n    this.valList = new Array(max).fill(null)\n    this.next = new UintArray(max)\n    this.prev = new UintArray(max)\n    this.head = 0\n    this.tail = 0\n    this.free = new Stack(max)\n    this.initialFill = 1\n    this.size = 0\n\n    if (typeof dispose === 'function') {\n      this.dispose = dispose\n    }\n    if (typeof disposeAfter === 'function') {\n      this.disposeAfter = disposeAfter\n      this.disposed = []\n    } else {\n      this.disposeAfter = null\n      this.disposed = null\n    }\n    this.noDisposeOnSet = !!noDisposeOnSet\n    this.noUpdateTTL = !!noUpdateTTL\n    this.noDeleteOnFetchRejection = !!noDeleteOnFetchRejection\n    this.allowStaleOnFetchRejection = !!allowStaleOnFetchRejection\n    this.allowStaleOnFetchAbort = !!allowStaleOnFetchAbort\n    this.ignoreFetchAbort = !!ignoreFetchAbort\n\n    // NB: maxEntrySize is set to maxSize if it's set\n    if (this.maxEntrySize !== 0) {\n      if (this.maxSize !== 0) {\n        if (!isPosInt(this.maxSize)) {\n          throw new TypeError(\n            'maxSize must be a positive integer if specified'\n          )\n        }\n      }\n      if (!isPosInt(this.maxEntrySize)) {\n        throw new TypeError(\n          'maxEntrySize must be a positive integer if specified'\n        )\n      }\n      this.initializeSizeTracking()\n    }\n\n    this.allowStale = !!allowStale || !!stale\n    this.noDeleteOnStaleGet = !!noDeleteOnStaleGet\n    this.updateAgeOnGet = !!updateAgeOnGet\n    this.updateAgeOnHas = !!updateAgeOnHas\n    this.ttlResolution =\n      isPosInt(ttlResolution) || ttlResolution === 0\n        ? ttlResolution\n        : 1\n    this.ttlAutopurge = !!ttlAutopurge\n    this.ttl = ttl || maxAge || 0\n    if (this.ttl) {\n      if (!isPosInt(this.ttl)) {\n        throw new TypeError(\n          'ttl must be a positive integer if specified'\n        )\n      }\n      this.initializeTTLTracking()\n    }\n\n    // do not allow completely unbounded caches\n    if (this.max === 0 && this.ttl === 0 && this.maxSize === 0) {\n      throw new TypeError(\n        'At least one of max, maxSize, or ttl is required'\n      )\n    }\n    if (!this.ttlAutopurge && !this.max && !this.maxSize) {\n      const code = 'LRU_CACHE_UNBOUNDED'\n      if (shouldWarn(code)) {\n        warned.add(code)\n        const msg =\n          'TTL caching without ttlAutopurge, max, or maxSize can ' +\n          'result in unbounded memory consumption.'\n        emitWarning(msg, 'UnboundedCacheWarning', code, LRUCache)\n      }\n    }\n\n    if (stale) {\n      deprecatedOption('stale', 'allowStale')\n    }\n    if (maxAge) {\n      deprecatedOption('maxAge', 'ttl')\n    }\n    if (length) {\n      deprecatedOption('length', 'sizeCalculation')\n    }\n  }\n\n  getRemainingTTL(key) {\n    return this.has(key, { updateAgeOnHas: false }) ? Infinity : 0\n  }\n\n  initializeTTLTracking() {\n    this.ttls = new ZeroArray(this.max)\n    this.starts = new ZeroArray(this.max)\n\n    this.setItemTTL = (index, ttl, start = perf.now()) => {\n      this.starts[index] = ttl !== 0 ? start : 0\n      this.ttls[index] = ttl\n      if (ttl !== 0 && this.ttlAutopurge) {\n        const t = setTimeout(() => {\n          if (this.isStale(index)) {\n            this.delete(this.keyList[index])\n          }\n        }, ttl + 1)\n        /* istanbul ignore else - unref() not supported on all platforms */\n        if (t.unref) {\n          t.unref()\n        }\n      }\n    }\n\n    this.updateItemAge = index => {\n      this.starts[index] = this.ttls[index] !== 0 ? perf.now() : 0\n    }\n\n    this.statusTTL = (status, index) => {\n      if (status) {\n        status.ttl = this.ttls[index]\n        status.start = this.starts[index]\n        status.now = cachedNow || getNow()\n        status.remainingTTL = status.now + status.ttl - status.start\n      }\n    }\n\n    // debounce calls to perf.now() to 1s so we're not hitting\n    // that costly call repeatedly.\n    let cachedNow = 0\n    const getNow = () => {\n      const n = perf.now()\n      if (this.ttlResolution > 0) {\n        cachedNow = n\n        const t = setTimeout(\n          () => (cachedNow = 0),\n          this.ttlResolution\n        )\n        /* istanbul ignore else - not available on all platforms */\n        if (t.unref) {\n          t.unref()\n        }\n      }\n      return n\n    }\n\n    this.getRemainingTTL = key => {\n      const index = this.keyMap.get(key)\n      if (index === undefined) {\n        return 0\n      }\n      return this.ttls[index] === 0 || this.starts[index] === 0\n        ? Infinity\n        : this.starts[index] +\n            this.ttls[index] -\n            (cachedNow || getNow())\n    }\n\n    this.isStale = index => {\n      return (\n        this.ttls[index] !== 0 &&\n        this.starts[index] !== 0 &&\n        (cachedNow || getNow()) - this.starts[index] >\n          this.ttls[index]\n      )\n    }\n  }\n  updateItemAge(_index) {}\n  statusTTL(_status, _index) {}\n  setItemTTL(_index, _ttl, _start) {}\n  isStale(_index) {\n    return false\n  }\n\n  initializeSizeTracking() {\n    this.calculatedSize = 0\n    this.sizes = new ZeroArray(this.max)\n    this.removeItemSize = index => {\n      this.calculatedSize -= this.sizes[index]\n      this.sizes[index] = 0\n    }\n    this.requireSize = (k, v, size, sizeCalculation) => {\n      // provisionally accept background fetches.\n      // actual value size will be checked when they return.\n      if (this.isBackgroundFetch(v)) {\n        return 0\n      }\n      if (!isPosInt(size)) {\n        if (sizeCalculation) {\n          if (typeof sizeCalculation !== 'function') {\n            throw new TypeError('sizeCalculation must be a function')\n          }\n          size = sizeCalculation(v, k)\n          if (!isPosInt(size)) {\n            throw new TypeError(\n              'sizeCalculation return invalid (expect positive integer)'\n            )\n          }\n        } else {\n          throw new TypeError(\n            'invalid size value (must be positive integer). ' +\n              'When maxSize or maxEntrySize is used, sizeCalculation or size ' +\n              'must be set.'\n          )\n        }\n      }\n      return size\n    }\n    this.addItemSize = (index, size, status) => {\n      this.sizes[index] = size\n      if (this.maxSize) {\n        const maxSize = this.maxSize - this.sizes[index]\n        while (this.calculatedSize > maxSize) {\n          this.evict(true)\n        }\n      }\n      this.calculatedSize += this.sizes[index]\n      if (status) {\n        status.entrySize = size\n        status.totalCalculatedSize = this.calculatedSize\n      }\n    }\n  }\n  removeItemSize(_index) {}\n  addItemSize(_index, _size) {}\n  requireSize(_k, _v, size, sizeCalculation) {\n    if (size || sizeCalculation) {\n      throw new TypeError(\n        'cannot set size without setting maxSize or maxEntrySize on cache'\n      )\n    }\n  }\n\n  *indexes({ allowStale = this.allowStale } = {}) {\n    if (this.size) {\n      for (let i = this.tail; true; ) {\n        if (!this.isValidIndex(i)) {\n          break\n        }\n        if (allowStale || !this.isStale(i)) {\n          yield i\n        }\n        if (i === this.head) {\n          break\n        } else {\n          i = this.prev[i]\n        }\n      }\n    }\n  }\n\n  *rindexes({ allowStale = this.allowStale } = {}) {\n    if (this.size) {\n      for (let i = this.head; true; ) {\n        if (!this.isValidIndex(i)) {\n          break\n        }\n        if (allowStale || !this.isStale(i)) {\n          yield i\n        }\n        if (i === this.tail) {\n          break\n        } else {\n          i = this.next[i]\n        }\n      }\n    }\n  }\n\n  isValidIndex(index) {\n    return (\n      index !== undefined &&\n      this.keyMap.get(this.keyList[index]) === index\n    )\n  }\n\n  *entries() {\n    for (const i of this.indexes()) {\n      if (\n        this.valList[i] !== undefined &&\n        this.keyList[i] !== undefined &&\n        !this.isBackgroundFetch(this.valList[i])\n      ) {\n        yield [this.keyList[i], this.valList[i]]\n      }\n    }\n  }\n  *rentries() {\n    for (const i of this.rindexes()) {\n      if (\n        this.valList[i] !== undefined &&\n        this.keyList[i] !== undefined &&\n        !this.isBackgroundFetch(this.valList[i])\n      ) {\n        yield [this.keyList[i], this.valList[i]]\n      }\n    }\n  }\n\n  *keys() {\n    for (const i of this.indexes()) {\n      if (\n        this.keyList[i] !== undefined &&\n        !this.isBackgroundFetch(this.valList[i])\n      ) {\n        yield this.keyList[i]\n      }\n    }\n  }\n  *rkeys() {\n    for (const i of this.rindexes()) {\n      if (\n        this.keyList[i] !== undefined &&\n        !this.isBackgroundFetch(this.valList[i])\n      ) {\n        yield this.keyList[i]\n      }\n    }\n  }\n\n  *values() {\n    for (const i of this.indexes()) {\n      if (\n        this.valList[i] !== undefined &&\n        !this.isBackgroundFetch(this.valList[i])\n      ) {\n        yield this.valList[i]\n      }\n    }\n  }\n  *rvalues() {\n    for (const i of this.rindexes()) {\n      if (\n        this.valList[i] !== undefined &&\n        !this.isBackgroundFetch(this.valList[i])\n      ) {\n        yield this.valList[i]\n      }\n    }\n  }\n\n  [Symbol.iterator]() {\n    return this.entries()\n  }\n\n  find(fn, getOptions) {\n    for (const i of this.indexes()) {\n      const v = this.valList[i]\n      const value = this.isBackgroundFetch(v)\n        ? v.__staleWhileFetching\n        : v\n      if (value === undefined) continue\n      if (fn(value, this.keyList[i], this)) {\n        return this.get(this.keyList[i], getOptions)\n      }\n    }\n  }\n\n  forEach(fn, thisp = this) {\n    for (const i of this.indexes()) {\n      const v = this.valList[i]\n      const value = this.isBackgroundFetch(v)\n        ? v.__staleWhileFetching\n        : v\n      if (value === undefined) continue\n      fn.call(thisp, value, this.keyList[i], this)\n    }\n  }\n\n  rforEach(fn, thisp = this) {\n    for (const i of this.rindexes()) {\n      const v = this.valList[i]\n      const value = this.isBackgroundFetch(v)\n        ? v.__staleWhileFetching\n        : v\n      if (value === undefined) continue\n      fn.call(thisp, value, this.keyList[i], this)\n    }\n  }\n\n  get prune() {\n    deprecatedMethod('prune', 'purgeStale')\n    return this.purgeStale\n  }\n\n  purgeStale() {\n    let deleted = false\n    for (const i of this.rindexes({ allowStale: true })) {\n      if (this.isStale(i)) {\n        this.delete(this.keyList[i])\n        deleted = true\n      }\n    }\n    return deleted\n  }\n\n  dump() {\n    const arr = []\n    for (const i of this.indexes({ allowStale: true })) {\n      const key = this.keyList[i]\n      const v = this.valList[i]\n      const value = this.isBackgroundFetch(v)\n        ? v.__staleWhileFetching\n        : v\n      if (value === undefined) continue\n      const entry = { value }\n      if (this.ttls) {\n        entry.ttl = this.ttls[i]\n        // always dump the start relative to a portable timestamp\n        // it's ok for this to be a bit slow, it's a rare operation.\n        const age = perf.now() - this.starts[i]\n        entry.start = Math.floor(Date.now() - age)\n      }\n      if (this.sizes) {\n        entry.size = this.sizes[i]\n      }\n      arr.unshift([key, entry])\n    }\n    return arr\n  }\n\n  load(arr) {\n    this.clear()\n    for (const [key, entry] of arr) {\n      if (entry.start) {\n        // entry.start is a portable timestamp, but we may be using\n        // node's performance.now(), so calculate the offset.\n        // it's ok for this to be a bit slow, it's a rare operation.\n        const age = Date.now() - entry.start\n        entry.start = perf.now() - age\n      }\n      this.set(key, entry.value, entry)\n    }\n  }\n\n  dispose(_v, _k, _reason) {}\n\n  set(\n    k,\n    v,\n    {\n      ttl = this.ttl,\n      start,\n      noDisposeOnSet = this.noDisposeOnSet,\n      size = 0,\n      sizeCalculation = this.sizeCalculation,\n      noUpdateTTL = this.noUpdateTTL,\n      status,\n    } = {}\n  ) {\n    size = this.requireSize(k, v, size, sizeCalculation)\n    // if the item doesn't fit, don't do anything\n    // NB: maxEntrySize set to maxSize by default\n    if (this.maxEntrySize && size > this.maxEntrySize) {\n      if (status) {\n        status.set = 'miss'\n        status.maxEntrySizeExceeded = true\n      }\n      // have to delete, in case a background fetch is there already.\n      // in non-async cases, this is a no-op\n      this.delete(k)\n      return this\n    }\n    let index = this.size === 0 ? undefined : this.keyMap.get(k)\n    if (index === undefined) {\n      // addition\n      index = this.newIndex()\n      this.keyList[index] = k\n      this.valList[index] = v\n      this.keyMap.set(k, index)\n      this.next[this.tail] = index\n      this.prev[index] = this.tail\n      this.tail = index\n      this.size++\n      this.addItemSize(index, size, status)\n      if (status) {\n        status.set = 'add'\n      }\n      noUpdateTTL = false\n    } else {\n      // update\n      this.moveToTail(index)\n      const oldVal = this.valList[index]\n      if (v !== oldVal) {\n        if (this.isBackgroundFetch(oldVal)) {\n          oldVal.__abortController.abort(new Error('replaced'))\n        } else {\n          if (!noDisposeOnSet) {\n            this.dispose(oldVal, k, 'set')\n            if (this.disposeAfter) {\n              this.disposed.push([oldVal, k, 'set'])\n            }\n          }\n        }\n        this.removeItemSize(index)\n        this.valList[index] = v\n        this.addItemSize(index, size, status)\n        if (status) {\n          status.set = 'replace'\n          const oldValue =\n            oldVal && this.isBackgroundFetch(oldVal)\n              ? oldVal.__staleWhileFetching\n              : oldVal\n          if (oldValue !== undefined) status.oldValue = oldValue\n        }\n      } else if (status) {\n        status.set = 'update'\n      }\n    }\n    if (ttl !== 0 && this.ttl === 0 && !this.ttls) {\n      this.initializeTTLTracking()\n    }\n    if (!noUpdateTTL) {\n      this.setItemTTL(index, ttl, start)\n    }\n    this.statusTTL(status, index)\n    if (this.disposeAfter) {\n      while (this.disposed.length) {\n        this.disposeAfter(...this.disposed.shift())\n      }\n    }\n    return this\n  }\n\n  newIndex() {\n    if (this.size === 0) {\n      return this.tail\n    }\n    if (this.size === this.max && this.max !== 0) {\n      return this.evict(false)\n    }\n    if (this.free.length !== 0) {\n      return this.free.pop()\n    }\n    // initial fill, just keep writing down the list\n    return this.initialFill++\n  }\n\n  pop() {\n    if (this.size) {\n      const val = this.valList[this.head]\n      this.evict(true)\n      return val\n    }\n  }\n\n  evict(free) {\n    const head = this.head\n    const k = this.keyList[head]\n    const v = this.valList[head]\n    if (this.isBackgroundFetch(v)) {\n      v.__abortController.abort(new Error('evicted'))\n    } else {\n      this.dispose(v, k, 'evict')\n      if (this.disposeAfter) {\n        this.disposed.push([v, k, 'evict'])\n      }\n    }\n    this.removeItemSize(head)\n    // if we aren't about to use the index, then null these out\n    if (free) {\n      this.keyList[head] = null\n      this.valList[head] = null\n      this.free.push(head)\n    }\n    this.head = this.next[head]\n    this.keyMap.delete(k)\n    this.size--\n    return head\n  }\n\n  has(k, { updateAgeOnHas = this.updateAgeOnHas, status } = {}) {\n    const index = this.keyMap.get(k)\n    if (index !== undefined) {\n      if (!this.isStale(index)) {\n        if (updateAgeOnHas) {\n          this.updateItemAge(index)\n        }\n        if (status) status.has = 'hit'\n        this.statusTTL(status, index)\n        return true\n      } else if (status) {\n        status.has = 'stale'\n        this.statusTTL(status, index)\n      }\n    } else if (status) {\n      status.has = 'miss'\n    }\n    return false\n  }\n\n  // like get(), but without any LRU updating or TTL expiration\n  peek(k, { allowStale = this.allowStale } = {}) {\n    const index = this.keyMap.get(k)\n    if (index !== undefined && (allowStale || !this.isStale(index))) {\n      const v = this.valList[index]\n      // either stale and allowed, or forcing a refresh of non-stale value\n      return this.isBackgroundFetch(v) ? v.__staleWhileFetching : v\n    }\n  }\n\n  backgroundFetch(k, index, options, context) {\n    const v = index === undefined ? undefined : this.valList[index]\n    if (this.isBackgroundFetch(v)) {\n      return v\n    }\n    const ac = new AC()\n    if (options.signal) {\n      options.signal.addEventListener('abort', () =>\n        ac.abort(options.signal.reason)\n      )\n    }\n    const fetchOpts = {\n      signal: ac.signal,\n      options,\n      context,\n    }\n    const cb = (v, updateCache = false) => {\n      const { aborted } = ac.signal\n      const ignoreAbort = options.ignoreFetchAbort && v !== undefined\n      if (options.status) {\n        if (aborted && !updateCache) {\n          options.status.fetchAborted = true\n          options.status.fetchError = ac.signal.reason\n          if (ignoreAbort) options.status.fetchAbortIgnored = true\n        } else {\n          options.status.fetchResolved = true\n        }\n      }\n      if (aborted && !ignoreAbort && !updateCache) {\n        return fetchFail(ac.signal.reason)\n      }\n      // either we didn't abort, and are still here, or we did, and ignored\n      if (this.valList[index] === p) {\n        if (v === undefined) {\n          if (p.__staleWhileFetching) {\n            this.valList[index] = p.__staleWhileFetching\n          } else {\n            this.delete(k)\n          }\n        } else {\n          if (options.status) options.status.fetchUpdated = true\n          this.set(k, v, fetchOpts.options)\n        }\n      }\n      return v\n    }\n    const eb = er => {\n      if (options.status) {\n        options.status.fetchRejected = true\n        options.status.fetchError = er\n      }\n      return fetchFail(er)\n    }\n    const fetchFail = er => {\n      const { aborted } = ac.signal\n      const allowStaleAborted =\n        aborted && options.allowStaleOnFetchAbort\n      const allowStale =\n        allowStaleAborted || options.allowStaleOnFetchRejection\n      const noDelete = allowStale || options.noDeleteOnFetchRejection\n      if (this.valList[index] === p) {\n        // if we allow stale on fetch rejections, then we need to ensure that\n        // the stale value is not removed from the cache when the fetch fails.\n        const del = !noDelete || p.__staleWhileFetching === undefined\n        if (del) {\n          this.delete(k)\n        } else if (!allowStaleAborted) {\n          // still replace the *promise* with the stale value,\n          // since we are done with the promise at this point.\n          // leave it untouched if we're still waiting for an\n          // aborted background fetch that hasn't yet returned.\n          this.valList[index] = p.__staleWhileFetching\n        }\n      }\n      if (allowStale) {\n        if (options.status && p.__staleWhileFetching !== undefined) {\n          options.status.returnedStale = true\n        }\n        return p.__staleWhileFetching\n      } else if (p.__returned === p) {\n        throw er\n      }\n    }\n    const pcall = (res, rej) => {\n      this.fetchMethod(k, v, fetchOpts).then(v => res(v), rej)\n      // ignored, we go until we finish, regardless.\n      // defer check until we are actually aborting,\n      // so fetchMethod can override.\n      ac.signal.addEventListener('abort', () => {\n        if (\n          !options.ignoreFetchAbort ||\n          options.allowStaleOnFetchAbort\n        ) {\n          res()\n          // when it eventually resolves, update the cache.\n          if (options.allowStaleOnFetchAbort) {\n            res = v => cb(v, true)\n          }\n        }\n      })\n    }\n    if (options.status) options.status.fetchDispatched = true\n    const p = new Promise(pcall).then(cb, eb)\n    p.__abortController = ac\n    p.__staleWhileFetching = v\n    p.__returned = null\n    if (index === undefined) {\n      // internal, don't expose status.\n      this.set(k, p, { ...fetchOpts.options, status: undefined })\n      index = this.keyMap.get(k)\n    } else {\n      this.valList[index] = p\n    }\n    return p\n  }\n\n  isBackgroundFetch(p) {\n    return (\n      p &&\n      typeof p === 'object' &&\n      typeof p.then === 'function' &&\n      Object.prototype.hasOwnProperty.call(\n        p,\n        '__staleWhileFetching'\n      ) &&\n      Object.prototype.hasOwnProperty.call(p, '__returned') &&\n      (p.__returned === p || p.__returned === null)\n    )\n  }\n\n  // this takes the union of get() and set() opts, because it does both\n  async fetch(\n    k,\n    {\n      // get options\n      allowStale = this.allowStale,\n      updateAgeOnGet = this.updateAgeOnGet,\n      noDeleteOnStaleGet = this.noDeleteOnStaleGet,\n      // set options\n      ttl = this.ttl,\n      noDisposeOnSet = this.noDisposeOnSet,\n      size = 0,\n      sizeCalculation = this.sizeCalculation,\n      noUpdateTTL = this.noUpdateTTL,\n      // fetch exclusive options\n      noDeleteOnFetchRejection = this.noDeleteOnFetchRejection,\n      allowStaleOnFetchRejection = this.allowStaleOnFetchRejection,\n      ignoreFetchAbort = this.ignoreFetchAbort,\n      allowStaleOnFetchAbort = this.allowStaleOnFetchAbort,\n      fetchContext = this.fetchContext,\n      forceRefresh = false,\n      status,\n      signal,\n    } = {}\n  ) {\n    if (!this.fetchMethod) {\n      if (status) status.fetch = 'get'\n      return this.get(k, {\n        allowStale,\n        updateAgeOnGet,\n        noDeleteOnStaleGet,\n        status,\n      })\n    }\n\n    const options = {\n      allowStale,\n      updateAgeOnGet,\n      noDeleteOnStaleGet,\n      ttl,\n      noDisposeOnSet,\n      size,\n      sizeCalculation,\n      noUpdateTTL,\n      noDeleteOnFetchRejection,\n      allowStaleOnFetchRejection,\n      allowStaleOnFetchAbort,\n      ignoreFetchAbort,\n      status,\n      signal,\n    }\n\n    let index = this.keyMap.get(k)\n    if (index === undefined) {\n      if (status) status.fetch = 'miss'\n      const p = this.backgroundFetch(k, index, options, fetchContext)\n      return (p.__returned = p)\n    } else {\n      // in cache, maybe already fetching\n      const v = this.valList[index]\n      if (this.isBackgroundFetch(v)) {\n        const stale =\n          allowStale && v.__staleWhileFetching !== undefined\n        if (status) {\n          status.fetch = 'inflight'\n          if (stale) status.returnedStale = true\n        }\n        return stale ? v.__staleWhileFetching : (v.__returned = v)\n      }\n\n      // if we force a refresh, that means do NOT serve the cached value,\n      // unless we are already in the process of refreshing the cache.\n      const isStale = this.isStale(index)\n      if (!forceRefresh && !isStale) {\n        if (status) status.fetch = 'hit'\n        this.moveToTail(index)\n        if (updateAgeOnGet) {\n          this.updateItemAge(index)\n        }\n        this.statusTTL(status, index)\n        return v\n      }\n\n      // ok, it is stale or a forced refresh, and not already fetching.\n      // refresh the cache.\n      const p = this.backgroundFetch(k, index, options, fetchContext)\n      const hasStale = p.__staleWhileFetching !== undefined\n      const staleVal = hasStale && allowStale\n      if (status) {\n        status.fetch = hasStale && isStale ? 'stale' : 'refresh'\n        if (staleVal && isStale) status.returnedStale = true\n      }\n      return staleVal ? p.__staleWhileFetching : (p.__returned = p)\n    }\n  }\n\n  get(\n    k,\n    {\n      allowStale = this.allowStale,\n      updateAgeOnGet = this.updateAgeOnGet,\n      noDeleteOnStaleGet = this.noDeleteOnStaleGet,\n      status,\n    } = {}\n  ) {\n    const index = this.keyMap.get(k)\n    if (index !== undefined) {\n      const value = this.valList[index]\n      const fetching = this.isBackgroundFetch(value)\n      this.statusTTL(status, index)\n      if (this.isStale(index)) {\n        if (status) status.get = 'stale'\n        // delete only if not an in-flight background fetch\n        if (!fetching) {\n          if (!noDeleteOnStaleGet) {\n            this.delete(k)\n          }\n          if (status) status.returnedStale = allowStale\n          return allowStale ? value : undefined\n        } else {\n          if (status) {\n            status.returnedStale =\n              allowStale && value.__staleWhileFetching !== undefined\n          }\n          return allowStale ? value.__staleWhileFetching : undefined\n        }\n      } else {\n        if (status) status.get = 'hit'\n        // if we're currently fetching it, we don't actually have it yet\n        // it's not stale, which means this isn't a staleWhileRefetching.\n        // If it's not stale, and fetching, AND has a __staleWhileFetching\n        // value, then that means the user fetched with {forceRefresh:true},\n        // so it's safe to return that value.\n        if (fetching) {\n          return value.__staleWhileFetching\n        }\n        this.moveToTail(index)\n        if (updateAgeOnGet) {\n          this.updateItemAge(index)\n        }\n        return value\n      }\n    } else if (status) {\n      status.get = 'miss'\n    }\n  }\n\n  connect(p, n) {\n    this.prev[n] = p\n    this.next[p] = n\n  }\n\n  moveToTail(index) {\n    // if tail already, nothing to do\n    // if head, move head to next[index]\n    // else\n    //   move next[prev[index]] to next[index] (head has no prev)\n    //   move prev[next[index]] to prev[index]\n    // prev[index] = tail\n    // next[tail] = index\n    // tail = index\n    if (index !== this.tail) {\n      if (index === this.head) {\n        this.head = this.next[index]\n      } else {\n        this.connect(this.prev[index], this.next[index])\n      }\n      this.connect(this.tail, index)\n      this.tail = index\n    }\n  }\n\n  get del() {\n    deprecatedMethod('del', 'delete')\n    return this.delete\n  }\n\n  delete(k) {\n    let deleted = false\n    if (this.size !== 0) {\n      const index = this.keyMap.get(k)\n      if (index !== undefined) {\n        deleted = true\n        if (this.size === 1) {\n          this.clear()\n        } else {\n          this.removeItemSize(index)\n          const v = this.valList[index]\n          if (this.isBackgroundFetch(v)) {\n            v.__abortController.abort(new Error('deleted'))\n          } else {\n            this.dispose(v, k, 'delete')\n            if (this.disposeAfter) {\n              this.disposed.push([v, k, 'delete'])\n            }\n          }\n          this.keyMap.delete(k)\n          this.keyList[index] = null\n          this.valList[index] = null\n          if (index === this.tail) {\n            this.tail = this.prev[index]\n          } else if (index === this.head) {\n            this.head = this.next[index]\n          } else {\n            this.next[this.prev[index]] = this.next[index]\n            this.prev[this.next[index]] = this.prev[index]\n          }\n          this.size--\n          this.free.push(index)\n        }\n      }\n    }\n    if (this.disposed) {\n      while (this.disposed.length) {\n        this.disposeAfter(...this.disposed.shift())\n      }\n    }\n    return deleted\n  }\n\n  clear() {\n    for (const index of this.rindexes({ allowStale: true })) {\n      const v = this.valList[index]\n      if (this.isBackgroundFetch(v)) {\n        v.__abortController.abort(new Error('deleted'))\n      } else {\n        const k = this.keyList[index]\n        this.dispose(v, k, 'delete')\n        if (this.disposeAfter) {\n          this.disposed.push([v, k, 'delete'])\n        }\n      }\n    }\n\n    this.keyMap.clear()\n    this.valList.fill(null)\n    this.keyList.fill(null)\n    if (this.ttls) {\n      this.ttls.fill(0)\n      this.starts.fill(0)\n    }\n    if (this.sizes) {\n      this.sizes.fill(0)\n    }\n    this.head = 0\n    this.tail = 0\n    this.initialFill = 1\n    this.free.length = 0\n    this.calculatedSize = 0\n    this.size = 0\n    if (this.disposed) {\n      while (this.disposed.length) {\n        this.disposeAfter(...this.disposed.shift())\n      }\n    }\n  }\n\n  get reset() {\n    deprecatedMethod('reset', 'clear')\n    return this.clear\n  }\n\n  get length() {\n    deprecatedProperty('length', 'size')\n    return this.size\n  }\n\n  static get AbortController() {\n    return AC\n  }\n  static get AbortSignal() {\n    return AS\n  }\n}\n\nexport default LRUCache\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport LRU from 'lru-cache';\nimport Style from 'ol/style/Style';\nimport { RContext } from '../context';\nimport { RlayersBase } from '../REvent';\nexport const useRStyle = () => React.useRef();\nexport const createRStyle = () => React.createRef();\n/**\n * A style, all other style components must be descendants of `RStyle`\n *\n * It can be used with a React reference - `RStyleRef` which is a shortcut for\n * `React.RefObject<RStyle>` and a subtype of `RStyleLike`\n *\n * Or it can also be nested inside a vector layer to be\n * automatically assigned as the default style of that layer\n *\n * This is the only component that does not have to be part of an `RMap`\n *\n * It provides the special `RStyle` context\n */\nexport default class RStyle extends RlayersBase {\n    constructor(props, context) {\n        super(props, context);\n        this.style = (f, r) => {\n            if (this.ol !== this.style)\n                return this.ol;\n            let hash;\n            if (this.cache) {\n                hash = this.props.cacheId(f, r);\n                const style = this.cache.get(hash);\n                if (style)\n                    return style;\n            }\n            const style = new Style({ zIndex: this.props.zIndex });\n            const render = (React.createElement(RContext.Provider, { value: Object.assign(Object.assign({}, this.context), { style }) }, this.props.render(f, r)));\n            ReactDOM.render(render, document.createElement('div'));\n            if (this.cache)\n                this.cache.set(hash, style);\n            return style;\n        };\n        if (props.render)\n            this.ol = this.style;\n        else\n            this.ol = new Style({ zIndex: props.zIndex });\n        if (props.render && props.cacheSize && props.cacheId)\n            this.cache = new LRU({ max: props.cacheSize });\n    }\n    componentDidMount() {\n        super.componentDidMount();\n        this.refresh();\n    }\n    refresh(prevProps) {\n        var _a, _b, _c, _d, _e, _f, _g;\n        super.refresh(prevProps);\n        if (!prevProps || (prevProps === null || prevProps === void 0 ? void 0 : prevProps.render) !== this.props.render) {\n            if ((_a = this.context) === null || _a === void 0 ? void 0 : _a.styleArray) {\n                if (this.ol === this.style)\n                    throw new Error('An RStyleArray must contain only static RStyles');\n                if (!this.context.styleArray.includes(this.ol))\n                    this.context.styleArray.push(this.ol);\n            }\n            else if ((_c = (_b = this.context) === null || _b === void 0 ? void 0 : _b.feature) === null || _c === void 0 ? void 0 : _c.setStyle) {\n                this.context.feature.setStyle(this.ol);\n            }\n            else if ((_e = (_d = this.context) === null || _d === void 0 ? void 0 : _d.vectorlayer) === null || _e === void 0 ? void 0 : _e.setStyle) {\n                this.context.vectorlayer.setStyle(this.ol);\n            }\n            else if ((_g = (_f = this.context) === null || _f === void 0 ? void 0 : _f.vectortilelayer) === null || _g === void 0 ? void 0 : _g.setStyle) {\n                this.context.vectortilelayer.setStyle(this.ol);\n            }\n            if (this.cache)\n                this.cache.clear();\n        }\n        if (this.ol instanceof Style && (!prevProps || prevProps.zIndex !== this.props.zIndex))\n            this.ol.setZIndex(this.props.zIndex);\n    }\n    render() {\n        if (this.props.render)\n            return null;\n        return (React.createElement(\"div\", { className: '_rlayers_RStyle' },\n            React.createElement(RContext.Provider, { value: Object.assign(Object.assign({}, this.context), { style: this.ol }) }, this.props.children)));\n    }\n    /** This is a static function that will return an\n     * OpenLayers-compatible `StyleLike` from an `RStyleLike`.\n     *\n     * @param {RStyleLike} style\n     * @public\n     */\n    static getStyle(style) {\n        // style is undefined or null\n        if (style === null || style === undefined)\n            return style;\n        // style is RStyle or RStyleArray\n        if (typeof style.style === 'function')\n            return (f, r) => style.style(f, r);\n        // style is a React.RefObject\n        // React.RefObjects are just plain JS objects after JS transpilation */\n        if (Object.keys(style).includes('current'))\n            return (f, r) => style.current.style(f, r);\n        // style is an OpenLayers StyleLike\n        return style;\n    }\n    /** This is a static function that will return an\n     * OpenLayers-compatible `Style` from a static `RStyleLike`.\n     * This discards the reference and the returned style won't\n     * be updated if the referenced `<RStyle>` is updated.\n     *\n     * It throws if the reference is a dynamic style.\n     *\n     * @param {RStyleLike} style\n     * @public\n     */\n    static getStyleStatic(style) {\n        // style is undefined or null\n        if (style === null || style === undefined)\n            return style;\n        let asRStyle;\n        // style is RStyle or RStyleArray\n        if (typeof style.style === 'function')\n            asRStyle = style;\n        // style is a React.RefObject\n        // React.RefObjects are just plain JS objects after JS transpilation\n        if (Object.keys(style).includes('current')) {\n            asRStyle = style.current;\n            if (asRStyle === undefined || asRStyle === null)\n                return undefined;\n        }\n        if (asRStyle) {\n            // style is a static RStyle or RStyleArray or reference\n            if (asRStyle.ol !== undefined && typeof asRStyle.ol !== 'function')\n                return asRStyle.ol;\n            // style is a dynamic RStyle or RStyleArray or reference\n            throw new TypeError('RStyle is dynamic and cannot be converted to Style');\n        }\n        // style is an OpenLayers StyleLike\n        if (typeof style === 'function')\n            throw new TypeError('StyleLike is dynamic and cannot be converted to Style');\n        return style;\n    }\n}\n//# sourceMappingURL=RStyle.js.map","import React from 'react';\nimport { MapBrowserEvent } from 'ol';\nimport { Feature } from 'ol';\nimport BaseEvent from 'ol/events/Event';\nimport { getCenter } from 'ol/extent';\nimport { RContext } from './context';\nimport { RlayersBase } from './REvent';\nimport RStyle from './style/RStyle';\nimport debug from './debug';\nexport class RFeatureUIEvent extends MapBrowserEvent {\n}\nexport class RFeatureBaseEvent extends BaseEvent {\n}\n/**\n * Component for a single vector feature\n *\n * Vector features can be either\n *\n * * implicit, when loaded from a file as props of a `RLayerVector`\n * * explicit, when declared as JSX with this component\n *\n * Requires a vector layer context\n *\n * Provides a location context\n *\n * [Example for explicit RFeatures](https://mmomtchev.github.io/rlayers/#/overlays)\n *\n * [Example for implicit RFeatures](https://mmomtchev.github.io/rlayers/#/RFeatures)\n *\n */\nclass RFeature extends RlayersBase {\n    constructor(props, context) {\n        var _a, _b;\n        super(props, context);\n        if (!((_a = this === null || this === void 0 ? void 0 : this.context) === null || _a === void 0 ? void 0 : _a.vectorlayer))\n            throw new Error('An RFeature must be part of a vector layer');\n        if (props.feature)\n            this.ol = props.feature;\n        else\n            this.ol = new Feature(Object.assign(Object.assign({}, ((_b = props.properties) !== null && _b !== void 0 ? _b : {})), { geometry: props.geometry, style: RStyle.getStyle(props.style) }));\n        RFeature.initEventRelay(this.context.map);\n        this.onchange = () => this.forceUpdate();\n    }\n    static initEventRelay(map) {\n        // These are reinstalled at every new feature\n        // but since eventRelay is static this doesn't grow the listeners array\n        for (const ev of RFeature.pointerEvents)\n            map.on(ev, RFeature.eventRelay);\n    }\n    static dispatchEvent(fr, event) {\n        var _a;\n        if (!fr.feature)\n            return true;\n        if (fr.feature.dispatchEvent)\n            return fr.feature.dispatchEvent(event);\n        if (!event.target)\n            event.target = fr.feature;\n        if ((_a = fr.layer) === null || _a === void 0 ? void 0 : _a.get('_on' + event.type))\n            return fr.layer.get('_on' + event.type)(event);\n        return true;\n    }\n    static eventRelay(e) {\n        const triggered = [];\n        e.map.forEachFeatureAtPixel(e.pixel, (f, l) => triggered.push({ feature: f, layer: l }) && false, {\n            hitTolerance: RFeature.hitTolerance\n        });\n        if (e.dragging) {\n            if (!RFeature.lastFeaturesDragged.length)\n                RFeature.lastFeaturesDragged = [...triggered];\n            for (const fr of RFeature.lastFeaturesDragged)\n                if (!triggered.find((f) => f.feature === fr.feature))\n                    triggered.push(fr);\n        }\n        else {\n            for (const fr of RFeature.lastFeaturesDragged)\n                RFeature.dispatchEvent(fr, new RFeatureUIEvent('pointerdragend', e.map, e.originalEvent));\n            RFeature.lastFeaturesDragged = [];\n        }\n        if (e.type === 'pointermove') {\n            // For all features previously entered, check if the pointer is still over them\n            // Send pointerleave and then remove those that are not under the pointer anymore\n            for (const fr of RFeature.lastFeaturesEntered)\n                if (!triggered.find((f) => f.feature === fr.feature)) {\n                    RFeature.dispatchEvent(fr, new RFeatureUIEvent('pointerleave', e.map, e.originalEvent));\n                    fr.feature = null;\n                    fr.layer = null;\n                }\n            RFeature.lastFeaturesEntered = RFeature.lastFeaturesEntered.filter((fr) => fr.feature);\n            // For all features triggered on this cycle, check if they were previous entered\n            // Send pointerenter and then register all the new feature\n            for (const fr of triggered) {\n                if (!RFeature.lastFeaturesEntered.find((f) => f.feature === fr.feature)) {\n                    RFeature.dispatchEvent(fr, new RFeatureUIEvent('pointerenter', e.map, e.originalEvent));\n                    RFeature.lastFeaturesEntered.push(fr);\n                }\n            }\n        }\n        // Normal re-dispatch for everything else\n        // Stop on false\n        for (const fr of triggered)\n            if (RFeature.dispatchEvent(fr, new RFeatureUIEvent(e.type, e.map, e.originalEvent)) ===\n                false)\n                return false;\n        return true;\n    }\n    refresh(prevProps) {\n        super.refresh(prevProps);\n        if (this.props.feature !== undefined && this.props.feature !== this.ol) {\n            debug('replacing bound feature', this.ol);\n            this.componentWillUnmount();\n            this.ol = this.props.feature;\n            this.componentDidMount();\n        }\n        if (this.props.properties !== (prevProps === null || prevProps === void 0 ? void 0 : prevProps.properties))\n            this.ol.setProperties(this.props.properties);\n        if (this.props.geometry !== (prevProps === null || prevProps === void 0 ? void 0 : prevProps.geometry))\n            this.ol.setGeometry(this.props.geometry);\n        if (this.props.style !== (prevProps === null || prevProps === void 0 ? void 0 : prevProps.style))\n            this.ol.setStyle(RStyle.getStyle(this.props.style));\n    }\n    componentDidMount() {\n        debug('didMount', this.ol);\n        super.componentDidMount();\n        this.ol.on('change', this.onchange);\n        this.context.vectorsource.addFeature(this.ol);\n    }\n    componentWillUnmount() {\n        super.componentWillUnmount();\n        this.ol.un('change', this.onchange);\n        this.context.vectorsource.removeFeature(this.ol);\n    }\n    render() {\n        var _a, _b;\n        const extent = (_b = (_a = this.ol) === null || _a === void 0 ? void 0 : _a.getGeometry()) === null || _b === void 0 ? void 0 : _b.getExtent();\n        const center = extent && getCenter(extent);\n        return (React.createElement(\"div\", { className: '_rlayers_RFeature' },\n            React.createElement(RContext.Provider, { value: {\n                    map: this.context.map,\n                    layer: this.context.vectorlayer,\n                    source: this.context.vectorsource,\n                    feature: this.ol,\n                    location: center\n                } }, this.props.children)));\n    }\n}\nRFeature.pointerEvents = ['click', 'pointerdrag', 'pointermove', 'singleclick', 'dblclick'];\nRFeature.lastFeaturesEntered = [];\nRFeature.lastFeaturesDragged = [];\nRFeature.hitTolerance = 3;\nexport default RFeature;\n//# sourceMappingURL=RFeature.js.map","import React from 'react';\nimport { RContext } from '../context';\nimport { default as RLayer } from './RLayer';\nimport { default as RFeature } from '../RFeature';\nimport { default as RStyle } from '../style/RStyle';\n/**\n * An abstract class used for grouping code common to all Vector layers\n *\n * Meant to be extended\n */\nclass RLayerBaseVector extends RLayer {\n    constructor(props, context) {\n        super(props, context);\n        this.newFeature = (e) => {\n            if (e.feature)\n                this.attachFeatureHandlers([e.feature]);\n            if (e.features)\n                this.attachFeatureHandlers(e.features);\n        };\n        this.eventRelay = (e) => {\n            if (this.props['on' + RLayerBaseVector.relayedEvents[e.type]])\n                return (this.props['on' + RLayerBaseVector.relayedEvents[e.type]].call(this, e) !== false);\n            return true;\n        };\n        RFeature.initEventRelay(this.context.map);\n        this.eventSources = this.createSource(props);\n        this.source.on('featuresloadend', this.newFeature);\n        this.source.on('addfeature', this.newFeature);\n        this.attachEventHandlers();\n    }\n    createSource(props) {\n        throw new Error('RLayerBaseVector is an abstract class');\n    }\n    attachFeatureHandlers(features, prevProps) {\n        for (const ev of Object.values(RLayerBaseVector.relayedEvents))\n            if (this.props['on' + ev] !== (prevProps && prevProps['on' + ev]))\n                for (const f of features)\n                    f.on(ev.toLowerCase(), this.eventRelay);\n    }\n    componentWillUnmount() {\n        super.componentWillUnmount();\n        for (const ev of Object.values(RLayerBaseVector.relayedEvents))\n            this.source.forEachFeature((f) => {\n                f.un(ev.toLowerCase(), this.eventRelay);\n                return false;\n            });\n    }\n    refresh(prevProps) {\n        super.refresh(prevProps);\n        this.attachFeatureHandlers(this.source.getFeatures(), prevProps);\n        if ((prevProps === null || prevProps === void 0 ? void 0 : prevProps.style) !== this.props.style)\n            this.ol.setStyle(RStyle.getStyle(this.props.style));\n    }\n    render() {\n        return (React.createElement(\"div\", { className: '_rlayers_RLayerVector' },\n            React.createElement(RContext.Provider, { value: Object.assign(Object.assign({}, this.context), { layer: this.ol, source: this.source, vectorlayer: this.ol, vectorsource: this.source }) }, this.props.children)));\n    }\n}\nRLayerBaseVector.relayedEvents = {\n    click: 'Click',\n    pointermove: 'PointerMove',\n    pointerenter: 'PointerEnter',\n    pointerleave: 'PointerLeave'\n};\nexport default RLayerBaseVector;\n//# sourceMappingURL=RLayerBaseVector.js.map","import React from 'react';\nimport { RContext } from '../context';\nimport debug from '../debug';\n/**\n * An abstract class used as base for all Style components, not meant to be used directly\n */\nclass RBaseStyle extends React.PureComponent {\n    constructor(props, context) {\n        super(props, context);\n        if (!this.context)\n            throw new Error('A style property must be part of a style');\n        this.ol = this.create(props);\n    }\n    /* istanbul ignore next */\n    create(props) {\n        throw new Error('RBaseStyle is an abstract class');\n    }\n    refresh(prevProps) {\n        debug('refreshStyle', this);\n        if (!prevProps)\n            return;\n        for (const p of this.classProps) {\n            const m = p.charAt(0).toUpperCase() + p.substring(1);\n            if ((prevProps && prevProps[p]) !== this.props[p]) {\n                if (this.ol['set' + m]) {\n                    this.ol['set' + m](this.props[p]);\n                }\n                else {\n                    // eslint-disable-next-line no-console\n                    console.error(`Underlying OpenLayers object does not support updating of ${p} after object creation. ` +\n                        'If you are using an anonymous constant array or object, ' +\n                        'consider assigning its value to a constant and then passing the constant or ' +\n                        'use React.useMemo() to avoid this warning and improve performance.');\n                }\n            }\n        }\n    }\n    /* istanbul ignore next */\n    set(ol) {\n        return;\n    }\n    componentDidMount() {\n        this.set(this.ol);\n    }\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        if (prevProps !== this.props)\n            this.refresh(prevProps);\n    }\n    componentWillUnmount() {\n        this.set(null);\n    }\n    render() {\n        return null;\n    }\n}\nRBaseStyle.contextType = RContext;\nRBaseStyle.classProps = [];\nexport default RBaseStyle;\n//# sourceMappingURL=RBaseStyle.js.map","import { Stroke } from 'ol/style';\nimport { default as RBaseStyle } from './RBaseStyle';\n/**\n * A component for setting the stroke properties of a style\n *\n * Requires an `RStyle` context\n */\nclass RStroke extends RBaseStyle {\n    create(props) {\n        this.classProps = RStroke.classProps;\n        return new Stroke(props);\n    }\n    set(ol) {\n        if (this.context.style.setStroke)\n            return this.context.style.setStroke(ol);\n        /* istanbul ignore next */\n        throw new Error('Parent element does not support a stroke');\n    }\n}\nRStroke.classProps = ['color', 'width', 'lineCap', 'lineJoin', 'lineDash'];\nexport default RStroke;\n//# sourceMappingURL=RStroke.js.map","import { Fill } from 'ol/style';\nimport { default as RBaseStyle } from './RBaseStyle';\n/**\n * A component for adding a fill to a style\n *\n * Requires an `RStyle` context\n */\nclass RFill extends RBaseStyle {\n    create(props) {\n        this.classProps = RFill.classProps;\n        return new Fill(props);\n    }\n    set(ol) {\n        if (this.context.style.setFill)\n            return this.context.style.setFill(ol);\n        /* istanbul ignore next */\n        throw new Error('Parent element does not support a fill');\n    }\n}\nRFill.classProps = ['color'];\nexport default RFill;\n//# sourceMappingURL=RFill.js.map","import { default as RBaseStyle } from './RBaseStyle';\n/**\n * An abstract class serving as base for all styles that render an image\n */\nclass RImage extends RBaseStyle {\n    /* istanbul ignore next */\n    create(props) {\n        throw new Error('RImage is an abstract class');\n    }\n    set(ol) {\n        if (!this.context.style.setImage)\n            throw new Error('Parent element does not support an image');\n        this.context.style.setImage(ol);\n    }\n}\nRImage.classProps = ['opacity', 'rotateWithView', 'rotation', 'scale', 'displacement'];\nexport default RImage;\n//# sourceMappingURL=RImage.js.map","import React from 'react';\nimport { RContext } from '../context';\nimport RImage from './RImage';\n/** Abstract class */\nclass RRegularBase extends RImage {\n    /* istanbul ignore next */\n    create(props) {\n        throw new Error('RImage is an abstract class');\n    }\n    setStroke(s) {\n        /* This a sneaky way around OpenLayers not supporting\n         * setStroke/setFill on RegulaRBaseStyle-derived classes */\n        this.stroke = s;\n        this.ol = this.create(this.props);\n        super.set(this.ol);\n    }\n    setFill(f) {\n        /* This a sneaky way around OpenLayers not supporting\n         * setStroke/setFill on RegulaRBaseStyle-derived classes */\n        this.fill = f;\n        this.ol = this.create(this.props);\n        super.set(this.ol);\n    }\n    render() {\n        return (React.createElement(\"div\", { className: '_rlayers_RStyle' },\n            React.createElement(RContext.Provider, { value: Object.assign(Object.assign({}, this.context), { style: this }) }, this.props.children)));\n    }\n}\nRRegularBase.classProps = RImage.classProps.concat(['radius']);\nexport default RRegularBase;\n//# sourceMappingURL=RRegularBase.js.map","import { Circle } from 'ol/style';\nimport RRegularBase from './RRegularBase';\n/**\n * A circle\n *\n * Requires an `RStyle` context\n *\n * Provides an `RStyle` context - for `Fill` or `Stroke`\n */\nclass RCircle extends RRegularBase {\n    create(props) {\n        this.classProps = RCircle.classProps;\n        return new Circle(Object.assign(Object.assign({}, props), { stroke: this.stroke, fill: this.fill }));\n    }\n}\nRCircle.classProps = RRegularBase.classProps.concat(['radius']);\nexport default RCircle;\n//# sourceMappingURL=RCircle.js.map","import { RegularShape } from 'ol/style';\nimport RRegularBase from './RRegularBase';\n/**\n * A star or a regular polygon\n *\n * Requires an `RStyle` context\n *\n * Provides an `RStyle` context - for `Fill` or `Stroke`\n */\nclass RRegularShape extends RRegularBase {\n    create(props) {\n        this.classProps = RRegularShape.classProps;\n        return new RegularShape(Object.assign(Object.assign({}, props), { stroke: this.stroke, fill: this.fill }));\n    }\n}\nRRegularShape.classProps = RRegularBase.classProps.concat(['radius1', 'radius2', 'points', 'angle']);\nexport default RRegularShape;\n//# sourceMappingURL=RRegularShape.js.map","import React from 'react';\nimport { Text } from 'ol/style';\nimport { RContext } from '../context';\nimport { default as RBaseStyle } from './RBaseStyle';\n/**\n * Text element of a style\n *\n * Requires an `RStyle` context\n *\n * Provides an `RStyle` context - for `Fill` or `Stroke`\n */\nclass RText extends RBaseStyle {\n    create(props) {\n        this.classProps = RText.classProps;\n        return new Text(props);\n    }\n    set(ol) {\n        if (!this.context.style.setText)\n            /* istanbul ignore next */\n            throw new Error('Parent element does not support a text');\n        this.context.style.setText(ol);\n    }\n    render() {\n        return (React.createElement(\"div\", { className: '_rlayers_RStyle_RText' },\n            React.createElement(RContext.Provider, { value: Object.assign(Object.assign({}, this.context), { style: this.ol }) }, this.props.children)));\n    }\n}\nRText.classProps = [\n    'text',\n    'font',\n    'offsetY',\n    'offsetX',\n    'overflow',\n    'scale',\n    'rotation',\n    'textAlign',\n    'padding',\n    'placement',\n    'textBaseline'\n];\nexport default RText;\n//# sourceMappingURL=RText.js.map","import React from 'react';\nimport { RContext } from '../context';\nimport { default as RBaseStyle } from './RBaseStyle';\n/**\n * Background element of a text\n *\n * Requires an `RText` context\n *\n * Provides an `RStyle` context - for `Fill` or `Stroke`\n */\nclass RBackground extends RBaseStyle {\n    create(props) {\n        this.classProps = RBackground.classProps;\n        const parent = this.context.style;\n        if (!parent.setBackgroundFill || !parent.setBackgroundStroke)\n            /* istanbul ignore next */\n            throw new Error('Parent element does not support a background');\n        return {\n            setFill: parent.setBackgroundFill.bind(parent),\n            setStroke: parent.setBackgroundStroke.bind(parent)\n        };\n    }\n    render() {\n        return (React.createElement(\"div\", { className: '_rlayers_RStyle_RBackground' },\n            React.createElement(RContext.Provider, { value: Object.assign(Object.assign({}, this.context), { style: this.ol }) }, this.props.children)));\n    }\n}\nRBackground.classProps = [];\nexport default RBackground;\n//# sourceMappingURL=RBackground.js.map","import { Icon } from 'ol/style';\nimport RImage from './RImage';\n/**\n * An icon\n *\n * Requires an `RStyle` context\n */\nclass RIcon extends RImage {\n    create(props) {\n        this.classProps = RIcon.classProps;\n        return new Icon(props);\n    }\n}\nRIcon.classProps = RImage.classProps.concat([\n    'anchor',\n    'anchorXUnits',\n    'anchorYUnits',\n    'color',\n    'crossOrigin',\n    'img',\n    'offset',\n    'offsetOrigin',\n    'size',\n    'imgSize',\n    'src'\n]);\nexport default RIcon;\n//# sourceMappingURL=RIcon.js.map","import LayerGraticule from 'ol/layer/Graticule';\nimport { default as RLayer } from './RLayer';\nimport { RStyle } from 'rlayers/style';\n/**\n * A layer that renders a static image\n */\nexport default class RLayerGraticule extends RLayer {\n    constructor(props, context) {\n        super(props, context);\n        this.createSource();\n    }\n    createSource() {\n        var _a, _b, _c, _d, _e, _f;\n        const stroke = (_b = (_a = RStyle.getStyleStatic(this.props.strokeStyle)) === null || _a === void 0 ? void 0 : _a.getStroke) === null || _b === void 0 ? void 0 : _b.call(_a);\n        const lonText = (_d = (_c = RStyle.getStyleStatic(this.props.lonLabelStyle)) === null || _c === void 0 ? void 0 : _c.getText) === null || _d === void 0 ? void 0 : _d.call(_c);\n        const latText = (_f = (_e = RStyle.getStyleStatic(this.props.latLabelStyle)) === null || _e === void 0 ? void 0 : _e.getText) === null || _f === void 0 ? void 0 : _f.call(_e);\n        this.ol = new LayerGraticule(Object.assign(Object.assign({}, this.props), { strokeStyle: stroke, lonLabelStyle: lonText, latLabelStyle: latText }));\n        this.eventSources = [this.ol];\n        return;\n    }\n    refresh(prevProps) {\n        super.refresh(prevProps);\n        const old = this.context.map.removeLayer(this.ol);\n        this.createSource();\n        this.attachOldEventHandlers(this.ol);\n        if (old)\n            this.context.map.addLayer(this.ol);\n    }\n}\n//# sourceMappingURL=RLayerGraticule.js.map","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { RContext } from '../context';\nimport { default as RStyle } from './RStyle';\n/** An array of RStyle, can be an RStyle of its own\n * - this represents the OpenLayers concept of a style array\n *\n * It replaces the references on its children, so individual elements\n * in the array cannot be referenced\n *\n * It doesn't support caching yet\n *\n * Every style in the array must be a static style and not a function\n *\n * Arrays of style functions are not supported by OpenLayers and won't\n * be supported rlayers either\n */\nexport default class RStyleArray extends RStyle {\n    constructor(props, context) {\n        super(props, context);\n        this.style = (f, r) => {\n            if (this.props.render) {\n                const element = this.props.render(f, r);\n                React.Children.map(element.props.children, (child) => {\n                    // eslint-disable-next-line @typescript-eslint/ban-types\n                    if (React.isValidElement(child) && child.type !== RStyle)\n                        throw new TypeError('An RStyleArray should contain only RStyle elements');\n                });\n                const styleArray = [];\n                const render = (React.createElement(RContext.Provider, { value: Object.assign(Object.assign({}, this.context), { styleArray }) }, element.props.children));\n                ReactDOM.render(render, document.createElement('div'));\n                return styleArray;\n            }\n            return this.ol;\n        };\n        this.childRefs = [];\n        if (props.render)\n            this.ol = this.style;\n        else\n            this.ol = [];\n    }\n    refresh(prevProps) {\n        super.refresh(prevProps);\n    }\n    render() {\n        React.Children.map(this.props.children, (child) => {\n            // eslint-disable-next-line @typescript-eslint/ban-types\n            if (React.isValidElement(child) && child.type !== RStyle)\n                throw new TypeError('An RStyleArray should contain only RStyle elements');\n        });\n        if (!this.props.render)\n            return (React.createElement(\"div\", { className: '_rlayers_RStyleArray' },\n                React.createElement(RContext.Provider, { value: Object.assign(Object.assign({}, this.context), { styleArray: this.ol }) }, this.props.children)));\n        return React.createElement(React.Fragment, null);\n    }\n}\n//# sourceMappingURL=RStyleArray.js.map","import { default as RLayerRaster } from './RLayerRaster';\n/**\n * An abstract layer serving as base to the WebGL layers\n *\n * Requires an `RMap` context\n */\nexport default class RLayerWebGL extends RLayerRaster {\n}\n//# sourceMappingURL=RLayerWebGL.js.map","import { RlayersBase } from '../REvent';\n/**\n * An abstract class serving as base for all controls, not meant to be used directly\n */\nexport default class RControlBase extends RlayersBase {\n    constructor(props, context) {\n        var _a;\n        super(props, context);\n        if (!((_a = this.context) === null || _a === void 0 ? void 0 : _a.map))\n            throw new Error('A control must be part of a map');\n    }\n    toOLProps(props) {\n        var _a;\n        return {\n            className: props.className,\n            target: (_a = props.target) === null || _a === void 0 ? void 0 : _a.current\n        };\n    }\n    refresh(prevProps) {\n        super.refresh(prevProps);\n        this.ol.setProperties(this.toOLProps(this.props));\n    }\n    componentDidMount() {\n        super.componentDidMount();\n        this.context.map.addControl(this.ol);\n    }\n    componentWillUnmount() {\n        super.componentWillUnmount();\n        this.context.map.removeControl(this.ol);\n    }\n}\n//# sourceMappingURL=RControlBase.js.map","import { RlayersBase } from '../REvent';\nimport debug from '../debug';\n/**\n * A basic Base interaction component\n *\n * It is meant to be be extended by more specific interactions\n */\nclass RBaseInteraction extends RlayersBase {\n    constructor(props, context) {\n        var _a, _b;\n        super(props, context);\n        if (!((_b = (_a = this.context) === null || _a === void 0 ? void 0 : _a.map) === null || _b === void 0 ? void 0 : _b.addInteraction))\n            throw new Error('An interaction must be part of a map');\n        this.ol = this.createOL(props);\n    }\n    createOL(props) {\n        throw new Error('RBaseInteraction should not be directly instantiated');\n    }\n    refresh(prevProps) {\n        for (const p of this.classProps)\n            if (prevProps && prevProps[p] !== this.props[p]) {\n                debug('Replacing interaction', this, prevProps);\n                this.componentWillUnmount();\n                this.ol = this.createOL(this.props);\n                this.componentDidMount();\n                break;\n            }\n        super.refresh(prevProps);\n    }\n    componentDidMount() {\n        super.componentDidMount();\n        this.context.map.addInteraction(this.ol);\n    }\n    componentWillUnmount() {\n        super.componentWillUnmount();\n        this.context.map.removeInteraction(this.ol);\n    }\n}\nRBaseInteraction.classProps = [];\nexport default RBaseInteraction;\n//# sourceMappingURL=RBaseInteraction.js.map","import { ScaleLine } from 'ol/control';\nimport { default as RControlBase } from './RControlBase';\n/**\n * Scaleline control\n *\n * Requires an `RMap` context\n */\nexport default class RScaleLine extends RControlBase {\n    constructor(props, context) {\n        super(props, context);\n        this.ol = new ScaleLine(this.toOLProps(props));\n    }\n    toOLProps(props) {\n        var _a;\n        return Object.assign(Object.assign({}, super.toOLProps(props)), { minWidth: props.minWidth, bar: props.bar, text: props.text, units: (_a = props.units) !== null && _a !== void 0 ? _a : 'metric' });\n    }\n}\n//# sourceMappingURL=RScaleLine.js.map","import { Attribution } from 'ol/control';\nimport { default as RControlBase } from './RControlBase';\n/**\n * An attributions control (the small **i** in the bottom right corner)\n *\n * Requires an `RMap` context\n */\nexport default class RAttribution extends RControlBase {\n    constructor(props, context) {\n        super(props, context);\n        this.ol = new Attribution(this.toOLProps(props));\n    }\n    refresh(prevProps) {\n        super.refresh(prevProps);\n        if ((prevProps === null || prevProps === void 0 ? void 0 : prevProps.collapsed) !== this.props.collapsed)\n            this.ol.setCollapsed(this.props.collapsed);\n    }\n    toOLProps(props) {\n        var _a;\n        return Object.assign(Object.assign({}, super.toOLProps(props)), { collapsible: (_a = props.collapsible) !== null && _a !== void 0 ? _a : true, collapsed: props.collapsed });\n    }\n}\n//# sourceMappingURL=RAttribution.js.map","import { Zoom } from 'ol/control';\nimport { default as RControlBase } from './RControlBase';\n/**\n * Zoom control\n *\n * Requires an `RMap` context\n */\nexport default class RZoom extends RControlBase {\n    constructor(props, context) {\n        super(props, context);\n        this.ol = new Zoom(this.toOLProps(props));\n    }\n    toOLProps(props) {\n        return Object.assign(Object.assign({}, super.toOLProps(props)), { duration: props.duration, zoomInLabel: props.zoomInLabel, zoomOutLabel: props.zoomOutLabel, zoomInTipLabel: props.zoomInTipLabel, zoomOutTipLabel: props.zoomOutTipLabel, delta: props.delta });\n    }\n}\n//# sourceMappingURL=RZoom.js.map","import { ZoomSlider } from 'ol/control';\nimport { default as RControlBase } from './RControlBase';\n/**\n * ZoomSlider control\n *\n * Requires an `RMap` context\n */\nexport default class RZoomSlider extends RControlBase {\n    constructor(props, context) {\n        super(props, context);\n        this.ol = new ZoomSlider(this.toOLProps(props));\n    }\n    toOLProps(props) {\n        return Object.assign(Object.assign({}, super.toOLProps(props)), { duration: props.duration });\n    }\n}\n//# sourceMappingURL=RZoomSlider.js.map","import { Rotate as OLRRotate } from 'ol/control';\nimport { default as RControlBase } from './RControlBase';\n/**\n * A rotation control for mobile devices\n *\n * Requires an `RMap` context\n */\nexport default class RRotate extends RControlBase {\n    constructor(props, context) {\n        super(props, context);\n        this.ol = new OLRRotate(this.toOLProps(props));\n    }\n    toOLProps(props) {\n        return Object.assign(Object.assign({}, super.toOLProps(props)), { label: props.label, autoHide: props.autoHide });\n    }\n}\n//# sourceMappingURL=RRotate.js.map","import React from 'react';\nimport { Control as Control } from 'ol/control';\nimport { default as RControlBase } from './RControlBase';\n/** A custom control that can contain an HTMLElement\n *\n * All provided children will be rendered as an OpenLayers control\n *\n * Requires an `RMap` context\n *\n * [See this for an example](https://mmomtchev.github.io/rlayers/#/controls)\n */\nexport default class RCustom extends RControlBase {\n    constructor(props, context) {\n        super(props, context);\n        this.targetRef = React.createRef();\n    }\n    componentDidMount() {\n        this.ol = new Control(this.toOLProps(this.props));\n        super.componentDidMount();\n    }\n    toOLProps(props) {\n        var _a;\n        return Object.assign(Object.assign({}, super.toOLProps(props)), { element: (_a = this.targetRef) === null || _a === void 0 ? void 0 : _a.current });\n    }\n    render() {\n        return (React.createElement(\"div\", { className: ['ol-control', this.props.className].join(' '), ref: this.targetRef }, this.props.children));\n    }\n}\n//# sourceMappingURL=RCustom.js.map","import React from 'react';\nimport { Control } from 'ol/control';\nimport RControlBase from './RControlBase';\n/** A custom control allowing to switch between different layers\n *\n * Layers that are to be controlled have to be nested inside the control\n *\n * Every layer should have a `label` property\n *\n * Requires an `RMap` context\n */\nexport default class RLayers extends RControlBase {\n    constructor(props, context) {\n        super(props, context);\n        this.onchange = () => this.forceUpdate();\n        this.clickCollapse = () => {\n            this.setState({ collapsed: !this.state.collapsed });\n        };\n        this.targetRef = React.createRef();\n        this.state = { collapsed: true, visible: [true] };\n    }\n    componentDidMount() {\n        this.ol = new Control(this.toOLProps(this.props));\n        super.componentDidMount();\n        this.context.map.on('change', this.onchange);\n        this.forceUpdate();\n    }\n    componentWillUnmount() {\n        super.componentWillUnmount();\n        this.context.map.un('change', this.onchange);\n    }\n    toOLProps(props) {\n        var _a;\n        return Object.assign(Object.assign({}, super.toOLProps(props)), { element: (_a = this.targetRef) === null || _a === void 0 ? void 0 : _a.current });\n    }\n    render() {\n        var _a, _b;\n        const visible = React.Children.map(this.props.children, (child, i) => {\n            var _a;\n            if (React.isValidElement(child)) {\n                return (_a = this.state.visible[i]) !== null && _a !== void 0 ? _a : false;\n            }\n        });\n        const labels = React.Children.map(this.props.children, (child) => {\n            var _a, _b;\n            if (React.isValidElement(child)) {\n                return (_b = (_a = child.props.properties) === null || _a === void 0 ? void 0 : _a.label) !== null && _b !== void 0 ? _b : 'no label';\n            }\n        });\n        return (React.createElement(React.Fragment, null,\n            React.createElement(\"div\", { className: ['ol-control', (_a = this.props.className) !== null && _a !== void 0 ? _a : 'ol-layers-control'].join(' '), ref: this.targetRef },\n                React.createElement(\"span\", { onClick: this.clickCollapse }, (_b = this.props.element) !== null && _b !== void 0 ? _b : React.createElement(\"button\", null, \"=\")),\n                this.state.collapsed ? null : (React.createElement(\"div\", null, labels.map((l, i) => (React.createElement(\"div\", { key: i },\n                    React.createElement(\"input\", { type: 'radio', id: i.toString(), name: l, value: i.toString(), checked: visible[i], onChange: () => {\n                            for (const v in visible) {\n                                visible[v] = false;\n                            }\n                            visible[i] = true;\n                            this.setState({ visible: [...visible], collapsed: true });\n                        } }),\n                    React.createElement(\"label\", { htmlFor: i.toString() }, l))))))),\n            React.Children.map(this.props.children, (child, i) => {\n                if (React.isValidElement(child)) {\n                    return React.cloneElement(child, { visible: visible[i] });\n                }\n                return child;\n            })));\n    }\n}\n//# sourceMappingURL=RLayers.js.map","import React from 'react';\nimport { OverviewMap } from 'ol/control';\nimport { RContext } from '../context';\nimport { default as RControlBase } from './RControlBase';\n/**\n * An overview map component\n *\n * Requires an `RMap` context\n *\n * Provides an 'RMap` context - allowing to nest overview layers in it\n */\nexport default class ROverviewMap extends RControlBase {\n    constructor(props, context) {\n        super(props, context);\n        this.ol = new OverviewMap(this.toOLProps(props));\n    }\n    toOLProps(props) {\n        return Object.assign(Object.assign({}, super.toOLProps(props)), { collapsible: props.collapsible, collapsed: props.collapsed, label: props.label, collapseLabel: props.collapseLabel });\n    }\n    refresh(prevProps) {\n        super.refresh(prevProps);\n        if ((prevProps === null || prevProps === void 0 ? void 0 : prevProps.collapsed) !== this.props.collapsed)\n            this.ol.setCollapsed(this.props.collapsed);\n    }\n    render() {\n        return (React.createElement(\"div\", { className: this.props.className, style: { width: this.props.width, height: this.props.height } },\n            React.createElement(RContext.Provider, { value: { map: this.ol.getOverviewMap() } }, this.props.children)));\n    }\n}\n//# sourceMappingURL=ROverviewMap.js.map","import { FullScreen } from 'ol/control';\nimport { default as RControlBase } from './RControlBase';\n/**\n * A control for switching to full-screen mode\n *\n * Requires an `RMap` context\n * */\nexport default class RFullScreen extends RControlBase {\n    constructor(props, context) {\n        super(props, context);\n        this.ol = new FullScreen(this.toOLProps(props));\n    }\n    toOLProps(props) {\n        return Object.assign(Object.assign({}, super.toOLProps(props)), { source: props.source, label: props.label, labelActive: props.labelActive, tipLabel: props.tipLabel });\n    }\n}\n//# sourceMappingURL=RFullScreen.js.map","import { default as OLMousePosition } from 'ol/control/MousePosition';\nimport RControlBase from './RControlBase';\nexport default class RMousePosition extends RControlBase {\n    constructor(props, context) {\n        super(props, context);\n        this.ol = new OLMousePosition(this.toOLProps(props));\n    }\n    toOLProps(props) {\n        return Object.assign(Object.assign({}, super.toOLProps(props)), { coordinateFormat: props.coordinateFormat, projection: props.projection, placeholder: props.placeholder || '&nbsp' });\n    }\n}\n//# sourceMappingURL=RMousePosition.js.map","import { default as OLZoomToExtent } from 'ol/control/ZoomToExtent';\nimport { default as RControlBase } from './RControlBase';\nexport default class RZoomToExtent extends RControlBase {\n    constructor(props, context) {\n        super(props, context);\n        this.ol = new OLZoomToExtent(this.toOLProps(props));\n    }\n    toOLProps(props) {\n        return Object.assign(Object.assign({}, super.toOLProps(props)), { extent: props.extent, label: props.label, tipLabel: props.tipLabel });\n    }\n}\n//# sourceMappingURL=RZoomToExtent.js.map","import { default as RBaseInteraction } from './RBaseInteraction';\n/**\n * A basic pointer interaction component\n *\n * It is meant to be be extended by more specific interactions\n */\nclass RPointer extends RBaseInteraction {\n}\nRPointer.classProps = ['handleDownEvent', 'handleDragEvent', 'handleMoveEvent', 'handleUpEvent'];\nexport default RPointer;\n//# sourceMappingURL=RPointer.js.map","import { default as DragBox } from 'ol/interaction/DragBox';\nimport { default as RPointer } from './RPointer';\n/** A dragbox, can be used for selecting features, see `RDragZoom` for zooming */\nclass RDragBox extends RPointer {\n    createOL(props) {\n        this.classProps = RDragBox.classProps;\n        return new DragBox(Object.keys(props)\n            .filter((p) => this.classProps.includes(p))\n            .reduce((ac, p) => (Object.assign(Object.assign({}, ac), { [p]: props[p] })), {}));\n    }\n}\nRDragBox.classProps = ['className', 'condition', 'minArea', 'boxEndCondition'];\nexport default RDragBox;\n//# sourceMappingURL=RDragBox.js.map","import { default as Translate } from 'ol/interaction/Translate';\nimport { default as RPointer } from './RPointer';\n/**\n * A feature translation interaction\n */\nclass RTranslate extends RPointer {\n    createOL(props) {\n        this.classProps = RTranslate.classProps;\n        return new Translate(Object.keys(props)\n            .filter((p) => this.classProps.includes(p))\n            .reduce((ac, p) => (Object.assign(Object.assign({}, ac), { [p]: props[p] })), {}));\n    }\n}\nRTranslate.classProps = ['features', 'layers', 'filter', 'hitTolerance'];\nexport default RTranslate;\n//# sourceMappingURL=RTranslate.js.map","import { default as Draw } from 'ol/interaction/Draw';\nimport { default as RPointer } from './RPointer';\n/** Pointer interaction for drawing features */\nclass RDraw extends RPointer {\n    createOL(props) {\n        var _a;\n        if (!((_a = this === null || this === void 0 ? void 0 : this.context) === null || _a === void 0 ? void 0 : _a.vectorsource))\n            throw new Error('A Draw interaction must be part of a vector layer');\n        this.classProps = RDraw.classProps;\n        return new Draw(Object.assign({ type: props.type, source: this.context.vectorsource }, Object.keys(props)\n            .filter((p) => this.classProps.includes(p))\n            .reduce((ac, p) => (Object.assign(Object.assign({}, ac), { [p]: props[p] })), {})));\n    }\n}\nRDraw.classProps = [\n    'condition',\n    'finishCondition',\n    'freehandCondition',\n    'style',\n    'stopClick',\n    'maxPoints',\n    'minPoints',\n    'snapTolerance'\n];\nexport default RDraw;\n//# sourceMappingURL=RDraw.js.map","import { default as Modify } from 'ol/interaction/Modify';\nimport { default as RPointer } from './RPointer';\n/** Pointer interaction for modifying existing features */\nclass RModify extends RPointer {\n    createOL(props) {\n        var _a;\n        if (!((_a = this === null || this === void 0 ? void 0 : this.context) === null || _a === void 0 ? void 0 : _a.vectorsource))\n            throw new Error('A Modify interaction must be part of a vector layer');\n        this.classProps = RModify.classProps;\n        return new Modify(Object.assign({ source: this.context.vectorsource }, Object.keys(props)\n            .filter((p) => this.classProps.includes(p))\n            .reduce((ac, p) => (Object.assign(Object.assign({}, ac), { [p]: props[p] })), {})));\n    }\n}\nRModify.classProps = [\n    'condition',\n    'deleteCondition',\n    'insertVertexCondition',\n    'style',\n    'pixelTolerance',\n    'hitDetection'\n];\nexport default RModify;\n//# sourceMappingURL=RModify.js.map","import { default as DoubleClickZoom } from 'ol/interaction/DoubleClickZoom';\nimport { default as RBaseInteraction } from './RBaseInteraction';\n/** Zooming by double click */\nclass RDoubleClickZoom extends RBaseInteraction {\n    createOL(props) {\n        this.classProps = RDoubleClickZoom.classProps;\n        return new DoubleClickZoom(Object.keys(props)\n            .filter((p) => this.classProps.includes(p))\n            .reduce((ac, p) => (Object.assign(Object.assign({}, ac), { [p]: props[p] })), {}));\n    }\n}\nRDoubleClickZoom.classProps = ['duration', 'delta'];\nexport default RDoubleClickZoom;\n//# sourceMappingURL=RDoubleClickZoom.js.map","import { default as DragPan } from 'ol/interaction/DragPan';\nimport { default as RBaseInteraction } from './RBaseInteraction';\n/** Panning by dragging */\nclass RDragPan extends RBaseInteraction {\n    createOL(props) {\n        this.classProps = RDragPan.classProps;\n        return new DragPan(Object.keys(props)\n            .filter((p) => this.classProps.includes(p))\n            .reduce((ac, p) => (Object.assign(Object.assign({}, ac), { [p]: props[p] })), {}));\n    }\n}\nRDragPan.classProps = ['condition', 'kinetic'];\nexport default RDragPan;\n//# sourceMappingURL=RDragPan.js.map","import { default as DragRotate } from 'ol/interaction/DragRotate';\nimport { default as RBaseInteraction } from './RBaseInteraction';\n/** Rotation by clicking and dragging */\nclass RDragRotate extends RBaseInteraction {\n    createOL(props) {\n        this.classProps = RDragRotate.classProps;\n        return new DragRotate(Object.keys(props)\n            .filter((p) => this.classProps.includes(p))\n            .reduce((ac, p) => (Object.assign(Object.assign({}, ac), { [p]: props[p] })), {}));\n    }\n}\nRDragRotate.classProps = ['condition', 'duration'];\nexport default RDragRotate;\n//# sourceMappingURL=RDragRotate.js.map","import { default as DragZoom } from 'ol/interaction/DragZoom';\nimport { default as RBaseInteraction } from './RBaseInteraction';\n/** Zoom by dragging a box, see `RDragBox` for selecting features */\nclass RDragZoom extends RBaseInteraction {\n    createOL(props) {\n        this.classProps = RDragZoom.classProps;\n        return new DragZoom(Object.keys(props)\n            .filter((p) => this.classProps.includes(p))\n            .reduce((ac, p) => (Object.assign(Object.assign({}, ac), { [p]: props[p] })), {}));\n    }\n}\nRDragZoom.classProps = ['className', 'condition', 'duration', 'out', 'minArea'];\nexport default RDragZoom;\n//# sourceMappingURL=RDragZoom.js.map","import { default as MouseWheelZoom } from 'ol/interaction/MouseWheelZoom';\nimport { default as RBaseInteraction } from './RBaseInteraction';\n/** Mouse wheel zoom */\nclass RMouseWheelZoom extends RBaseInteraction {\n    createOL(props) {\n        this.classProps = RMouseWheelZoom.classProps;\n        return new MouseWheelZoom(Object.keys(props)\n            .filter((p) => this.classProps.includes(p))\n            .reduce((ac, p) => (Object.assign(Object.assign({}, ac), { [p]: props[p] })), {}));\n    }\n}\nRMouseWheelZoom.classProps = ['condition', 'maxDelta', 'duration', 'useAnchor', 'constrainResolution'];\nexport default RMouseWheelZoom;\n//# sourceMappingURL=RMouseWheelZoom.js.map","import { default as PinchRotate } from 'ol/interaction/PinchRotate';\nimport { default as RBaseInteraction } from './RBaseInteraction';\n/** Rotation by pinching */\nclass RPinchRotate extends RBaseInteraction {\n    createOL(props) {\n        this.classProps = RPinchRotate.classProps;\n        return new PinchRotate(Object.keys(props)\n            .filter((p) => this.classProps.includes(p))\n            .reduce((ac, p) => (Object.assign(Object.assign({}, ac), { [p]: props[p] })), {}));\n    }\n}\nRPinchRotate.classProps = ['threshold', 'duration'];\nexport default RPinchRotate;\n//# sourceMappingURL=RPinchRotate.js.map","import { default as PinchZoom } from 'ol/interaction/PinchZoom';\nimport { default as RBaseInteraction } from './RBaseInteraction';\n/** Zoom by pinching */\nclass RPinchZoom extends RBaseInteraction {\n    createOL(props) {\n        this.classProps = RPinchZoom.classProps;\n        return new PinchZoom(Object.keys(props)\n            .filter((p) => this.classProps.includes(p))\n            .reduce((ac, p) => (Object.assign(Object.assign({}, ac), { [p]: props[p] })), {}));\n    }\n}\nRPinchZoom.classProps = ['duration'];\nexport default RPinchZoom;\n//# sourceMappingURL=RPinchZoom.js.map","import { default as KeyboardPan } from 'ol/interaction/KeyboardPan';\nimport { default as RBaseInteraction } from './RBaseInteraction';\n/** Pan with the arrow keys on the keyboard */\nclass RKeyboardPan extends RBaseInteraction {\n    createOL(props) {\n        this.classProps = RKeyboardPan.classProps;\n        return new KeyboardPan(Object.keys(props)\n            .filter((p) => this.classProps.includes(p))\n            .reduce((ac, p) => (Object.assign(Object.assign({}, ac), { [p]: props[p] })), {}));\n    }\n}\nRKeyboardPan.classProps = ['condition', 'duration', 'pixelDelta'];\nexport default RKeyboardPan;\n//# sourceMappingURL=RKeyboardPan.js.map","import { default as KeyboardZoom } from 'ol/interaction/KeyboardZoom';\nimport { default as RBaseInteraction } from './RBaseInteraction';\n/** Zoom with +/- keys on the keyboard */\nclass RKeyboardZoom extends RBaseInteraction {\n    createOL(props) {\n        this.classProps = RKeyboardZoom.classProps;\n        return new KeyboardZoom(Object.keys(props)\n            .filter((p) => this.classProps.includes(p))\n            .reduce((ac, p) => (Object.assign(Object.assign({}, ac), { [p]: props[p] })), {}));\n    }\n}\nRKeyboardZoom.classProps = ['condition', 'duration', 'delta'];\nexport default RKeyboardZoom;\n//# sourceMappingURL=RKeyboardZoom.js.map","import React from 'react';\nimport { Overlay } from 'ol';\nimport { RlayersBase } from './REvent';\n/**\n * A basic overlay\n *\n * Requires a location context\n *\n * (ie it must be descendant of a `RFeature`)\n *\n * @name ROverlay\n * @constructor\n */\nexport class ROverlayBase extends RlayersBase {\n    constructor(props, context) {\n        var _a;\n        super(props, context);\n        if (!((_a = this.context) === null || _a === void 0 ? void 0 : _a.location))\n            throw new Error('An overlay must be part of a location provider (ie RFeature)');\n        this.ol = new Overlay({\n            autoPan: props.autoPan\n        });\n        this.containerRef = React.createRef();\n    }\n    setPosition() {\n        var _a;\n        this.ol.setPosition(this.context.location);\n        if (this.props.autoPosition && ((_a = this.containerRef) === null || _a === void 0 ? void 0 : _a.current)) {\n            this.containerRef.current.style.position = 'absolute';\n            const pixel = this.context.map.getPixelFromCoordinate(this.context.location);\n            const size = this.context.map.getSize();\n            if (pixel[0] > size[0] / 2) {\n                this.containerRef.current.style.left = null;\n                this.containerRef.current.style.right = '0px';\n            }\n            else {\n                this.containerRef.current.style.left = '0px';\n                this.containerRef.current.style.right = null;\n            }\n            if (pixel[1] > size[1] / 2) {\n                this.containerRef.current.style.top = null;\n                this.containerRef.current.style.bottom = '0px';\n            }\n            else {\n                this.containerRef.current.style.top = '0px';\n                this.containerRef.current.style.bottom = null;\n            }\n        }\n    }\n    refresh(prevProps) {\n        super.refresh(prevProps);\n        this.ol.setElement(this.containerRef.current);\n        this.setPosition();\n    }\n    componentDidMount() {\n        super.componentDidMount();\n        this.context.map.addOverlay(this.ol);\n    }\n    componentWillUnmount() {\n        super.componentWillUnmount();\n        this.context.map.removeOverlay(this.ol);\n    }\n    render() {\n        this.setPosition();\n        return (React.createElement(\"div\", { className: '_rlayers_ROverlay' },\n            React.createElement(\"div\", { ref: this.containerRef, className: this.props.className, onClick: this.props.onClick }, this.props.children)));\n    }\n}\nexport default class ROverlay extends ROverlayBase {\n}\n//# sourceMappingURL=ROverlay.js.map","import Geolocation from 'ol/Geolocation';\nimport { RlayersBase } from './REvent';\n/**\n * A wrapper around the OpenLayers Geolocation helper\n *\n * Must have an `RMap` parent\n */\nexport default class RGeolocation extends RlayersBase {\n    constructor(props, context) {\n        var _a, _b;\n        super(props, context);\n        if (!((_a = this === null || this === void 0 ? void 0 : this.context) === null || _a === void 0 ? void 0 : _a.map))\n            throw new Error('A Geolocation must be part of a map');\n        const projection = (_b = props.projection) !== null && _b !== void 0 ? _b : this.context.map.getView().getProjection();\n        this.ol = new Geolocation(Object.assign(Object.assign({}, props), { projection }));\n    }\n}\n//# sourceMappingURL=RGeolocation.js.map","import React from 'react';\nimport { Vector as LayerVector } from 'ol/layer';\nimport { Vector as SourceVector, Cluster as SourceCluster } from 'ol/source';\nimport { RContext } from '../context';\nimport { default as RLayerBaseVector } from './RLayerBaseVector';\nimport { default as RStyle } from '../style/RStyle';\n/** A vector layer that clusters its RFeatures\n *\n * Compatible with RLayerVector\n *\n * Requires an `RMap` context\n *\n * Not compatible with a vector layer context for JSX-declared RFeatures\n */\nexport default class RLayerCluster extends RLayerBaseVector {\n    createSource(props) {\n        this.cluster = new SourceVector({\n            features: this.props.features,\n            url: this.props.url,\n            format: this.props.format,\n            loader: this.props.loader,\n            wrapX: this.props.wrapX,\n            strategy: this.props.strategy\n        });\n        this.source = new SourceCluster({ source: this.cluster, distance: this.props.distance });\n        this.ol = new LayerVector(Object.assign(Object.assign({}, props), { source: this.source, style: RStyle.getStyle(props.style) }));\n        return [this.ol, this.source, this.cluster];\n    }\n    refresh(prev) {\n        super.refresh(prev);\n        if ((prev === null || prev === void 0 ? void 0 : prev.distance) !== this.props.distance)\n            this.source.setDistance(this.props.distance);\n        if ((prev === null || prev === void 0 ? void 0 : prev.url) !== this.props.url) {\n            this.cluster.setUrl(this.props.url);\n            this.cluster.refresh();\n        }\n    }\n    render() {\n        return (React.createElement(\"div\", { className: '_rlayers_RLayerCluster' },\n            React.createElement(RContext.Provider, { value: Object.assign(Object.assign({}, this.context), { layer: this.ol, source: this.cluster, vectorlayer: this.ol, vectorsource: this.cluster }) }, this.props.children)));\n    }\n}\n//# sourceMappingURL=RLayerCluster.js.map","import { Heatmap as LayerHeatmap } from 'ol/layer';\nimport { Vector as SourceVector } from 'ol/source';\nimport { default as RLayerBaseVector } from './RLayerBaseVector';\n/** A vector layer that renders its RFeatures as a heatmap\n *\n * Compatible with RLayerVector\n *\n * Requires an `RMap` context\n *\n * Provides a vector layer for JSX-declared RFeatures\n */\nexport default class RLayerHeatmap extends RLayerBaseVector {\n    createSource(props) {\n        this.source = new SourceVector({\n            features: this.props.features,\n            url: this.props.url,\n            format: this.props.format,\n            loader: this.props.loader,\n            wrapX: this.props.wrapX,\n            strategy: this.props.strategy\n        });\n        this.ol = new LayerHeatmap(Object.assign(Object.assign({}, props), { source: this.source }));\n        return [this.ol, this.source];\n    }\n    refresh(prev) {\n        super.refresh(prev);\n        if ((prev === null || prev === void 0 ? void 0 : prev.blur) !== this.props.blur)\n            this.ol.setBlur(this.props.blur);\n        if ((prev === null || prev === void 0 ? void 0 : prev.radius) !== this.props.radius)\n            this.ol.setRadius(this.props.radius);\n    }\n}\n//# sourceMappingURL=RLayerHeatmap.js.map","import LayerImage from 'ol/layer/Image';\nimport SourceImage from 'ol/source/ImageStatic';\nimport { default as RLayer } from './RLayer';\n/**\n * A layer that renders a static image\n */\nexport default class RLayerImage extends RLayer {\n    constructor(props, context) {\n        super(props, context);\n        this.createSource();\n        this.ol = new LayerImage({ source: this.source });\n        this.eventSources = [this.ol, this.source];\n    }\n    createSource() {\n        const options = {\n            url: this.props.url,\n            projection: this.props.projection,\n            imageExtent: this.props.extent,\n            imageSize: this.props.size\n        };\n        this.source = new SourceImage(options);\n        this.eventSources = [this.ol, this.source];\n    }\n    refresh(prevProps) {\n        super.refresh(prevProps);\n        if (this.props.url && (prevProps === null || prevProps === void 0 ? void 0 : prevProps.url) !== this.props.url) {\n            this.createSource();\n            this.ol.setSource(this.source);\n            this.eventSources = [this.ol, this.source];\n            this.attachOldEventHandlers(this.source);\n        }\n    }\n}\n//# sourceMappingURL=RLayerImage.js.map","import { Tile as LayerTile } from 'ol/layer';\nimport { Stamen } from 'ol/source';\nimport { default as RLayerRaster } from './RLayerRaster';\n/**\n * A ready to use interface for Stamen's map service\n *\n * Requires an `RMap` context\n */\nexport default class RLayerStamen extends RLayerRaster {\n    constructor(props, context) {\n        super(props, context);\n        this.source = new Stamen({ layer: this.props.layer });\n        this.ol = new LayerTile({ source: this.source });\n        this.eventSources = [this.ol, this.source];\n    }\n}\n//# sourceMappingURL=RLayerStamen.js.map","import { Tile as LayerTile } from 'ol/layer';\nimport { XYZ } from 'ol/source';\nimport { default as RLayerRaster } from './RLayerRaster';\n/**\n * A layer with XYZ raster tiles\n *\n * Requires an `RMap` context\n */\nexport default class RLayerTile extends RLayerRaster {\n    constructor(props, context) {\n        super(props, context);\n        this.createSource();\n        this.ol = new LayerTile({ source: this.source });\n        this.eventSources = [this.ol, this.source];\n    }\n    createSource() {\n        this.source = new XYZ({\n            url: this.props.url,\n            interpolate: !this.props.noIterpolation,\n            projection: this.props.projection,\n            tileGrid: this.props.tileGrid,\n            crossOrigin: this.props.crossOrigin\n        });\n        this.eventSources = [this.ol, this.source];\n    }\n    refresh(prevProps) {\n        super.refresh(prevProps);\n        if ((prevProps === null || prevProps === void 0 ? void 0 : prevProps.tileGrid) !== this.props.tileGrid || (prevProps === null || prevProps === void 0 ? void 0 : prevProps.url) !== this.props.url) {\n            this.createSource();\n            this.ol.setSource(this.source);\n            this.attachOldEventHandlers(this.source);\n        }\n    }\n}\n//# sourceMappingURL=RLayerTile.js.map","import { Tile as LayerTile } from 'ol/layer';\nimport { TileJSON } from 'ol/source';\nimport { default as RLayerRaster } from './RLayerRaster';\n/**\n * A layer with data from TileJSON tiles\n *\n * Requires an `RMap` context\n */\nexport default class RLayerTileJSON extends RLayerRaster {\n    constructor(props, context) {\n        super(props, context);\n        this.source = new TileJSON({\n            url: this.props.url\n        });\n        this.ol = new LayerTile({ source: this.source });\n        this.eventSources = [this.ol, this.source];\n    }\n    refresh(prevProps) {\n        super.refresh(prevProps);\n        if (this.props.url && (prevProps === null || prevProps === void 0 ? void 0 : prevProps.url) !== this.props.url) {\n            this.source.setUrl(this.props.url);\n            this.source.refresh();\n        }\n    }\n}\n//# sourceMappingURL=RLayerTileJSON.js.map","import TileLayer from 'ol/layer/Tile';\nimport TileWMS from 'ol/source/TileWMS';\nimport { default as RLayerRaster } from './RLayerRaster';\n/**\n * Tiled layer using WMS\n */\nexport default class RLayerTileWMS extends RLayerRaster {\n    constructor(props, context) {\n        super(props, context);\n        this.createSource();\n        this.ol = new TileLayer({ source: this.source });\n        this.eventSources = [this.ol, this.source];\n    }\n    createSource() {\n        const { params, url, projection } = this.props;\n        const options = { params, url, projection };\n        this.source = new TileWMS(options);\n        this.eventSources = [this.ol, this.source];\n    }\n    refresh(prevProps) {\n        super.refresh(prevProps);\n        this.createSource();\n        this.ol.setSource(this.source);\n        this.attachOldEventHandlers(this.source);\n    }\n}\n//# sourceMappingURL=RLayerTileWMS.js.map","import { WebGLTile as LayerTileWebGL } from 'ol/layer';\nimport { XYZ } from 'ol/source';\nimport { default as RLayerWebGL } from './RLayerWebGL';\n/**\n * A layer with XYZ raster tiles rendered by WebGL\n *\n * Requires an `RMap` context\n */\nexport default class RLayerTileWebGL extends RLayerWebGL {\n    constructor(props, context) {\n        super(props, context);\n        this.createSource();\n        this.ol = new LayerTileWebGL({\n            opacity: 0.9,\n            source: this.source,\n            cacheSize: props.cacheSize\n        });\n        this.eventSources = [this.ol, this.source];\n    }\n    createSource() {\n        this.source = new XYZ({\n            url: this.props.url,\n            interpolate: !this.props.noIterpolation,\n            projection: this.props.projection,\n            tileGrid: this.props.tileGrid,\n            crossOrigin: 'anonymous'\n        });\n        this.eventSources = [this.ol, this.source];\n    }\n    refresh(prevProps) {\n        super.refresh(prevProps);\n        if ((prevProps === null || prevProps === void 0 ? void 0 : prevProps.tileGrid) !== this.props.tileGrid || (prevProps === null || prevProps === void 0 ? void 0 : prevProps.url) !== this.props.url) {\n            this.createSource();\n            this.ol.setSource(this.source);\n            this.attachOldEventHandlers(this.source);\n        }\n    }\n}\n//# sourceMappingURL=RLayerTileWebGL.js.map","import { Vector as LayerVector } from 'ol/layer';\nimport { Vector as SourceVector } from 'ol/source';\nimport { default as RLayerBaseVector } from './RLayerBaseVector';\nimport { default as RStyle } from '../style/RStyle';\n/**\n * A vector layer\n *\n * Supports loading of features from external sources\n *\n * Requires an `RMap` context\n *\n * Provides a vector layer context for JSX-declared `RFeature`s\n */\nexport default class RLayerVector extends RLayerBaseVector {\n    createSource(props) {\n        this.source = new SourceVector({\n            features: this.props.features,\n            url: this.props.url,\n            format: this.props.format,\n            loader: this.props.loader,\n            wrapX: this.props.wrapX,\n            strategy: this.props.strategy\n        });\n        this.ol = new LayerVector(Object.assign(Object.assign({}, props), { style: RStyle.getStyle(this.props.style), source: this.source }));\n        return [this.ol, this.source];\n    }\n    refresh(prevProps) {\n        super.refresh(prevProps);\n        if ((prevProps === null || prevProps === void 0 ? void 0 : prevProps.url) !== this.props.url) {\n            this.source.setUrl(this.props.url);\n            this.source.refresh();\n        }\n    }\n}\n//# sourceMappingURL=RLayerVector.js.map","import { VectorImage as LayerVectorImage } from 'ol/layer';\nimport { Vector as SourceVector } from 'ol/source';\nimport { default as RLayerBaseVector } from './RLayerBaseVector';\nimport { default as RStyle } from '../style/RStyle';\n/**\n * A vector layer\n *\n * Supports loading of features from external sources\n *\n * Requires an `RMap` context\n *\n * Provides a vector layer context for JSX-declared `RFeature`s\n */\nexport default class RLayerVectorImage extends RLayerBaseVector {\n    createSource(props) {\n        this.source = new SourceVector({\n            features: this.props.features,\n            url: this.props.url,\n            format: this.props.format,\n            loader: this.props.loader,\n            wrapX: this.props.wrapX,\n            strategy: this.props.strategy\n        });\n        this.ol = new LayerVectorImage(Object.assign(Object.assign({}, props), { style: RStyle.getStyle(this.props.style), source: this.source }));\n        return [this.ol, this.source];\n    }\n    refresh(prevProps) {\n        super.refresh(prevProps);\n        if ((prevProps === null || prevProps === void 0 ? void 0 : prevProps.url) !== this.props.url) {\n            this.source.setUrl(this.props.url);\n            this.source.refresh();\n        }\n    }\n}\n//# sourceMappingURL=RLayerVectorImage.js.map","import React from 'react';\nimport { VectorTile as LayerVectorTile } from 'ol/layer';\nimport { VectorTile as SourceVectorTile } from 'ol/source';\nimport { RContext } from '../context';\nimport { default as RLayer } from './RLayer';\nimport { default as RFeature } from '../RFeature';\nimport RStyle from '../style/RStyle';\n/**\n * A vector tile layer\n *\n * Supports loading of features from vector tile servers\n *\n * Only the handlers can be dynamically modified\n *\n * Requires an `RMap` context\n *\n * It does not provide a vector layer context for JSX-declared `RFeature`s\n * and it is not compatible with RLayerVector\n */\nexport default class RLayerVectorTile extends RLayer {\n    constructor(props, context) {\n        super(props, context);\n        this.source = new SourceVectorTile({\n            url: this.props.url,\n            format: this.props.format,\n            projection: this.props.projection\n        });\n        this.ol = new LayerVectorTile({\n            style: RStyle.getStyle(this.props.style),\n            source: this.source,\n            renderBuffer: this.props.renderBuffer\n        });\n        this.eventSources = [this.ol, this.source];\n        RFeature.initEventRelay(this.context.map);\n    }\n    refresh(prevProps) {\n        super.refresh(prevProps);\n        const handlers = Object.keys(this.props)\n            .filter((ev) => ev.startsWith('on'))\n            .reduce((ac, x) => (Object.assign(Object.assign({}, ac), { ['_' + x.toLowerCase()]: this.props[x] })), {});\n        this.ol.setProperties(handlers);\n        if ((prevProps === null || prevProps === void 0 ? void 0 : prevProps.style) !== this.props.style)\n            this.ol.setStyle(RStyle.getStyle(this.props.style));\n        if ((prevProps === null || prevProps === void 0 ? void 0 : prevProps.url) !== this.props.url) {\n            this.source.setUrl(this.props.url);\n            this.source.refresh();\n        }\n    }\n    render() {\n        return (React.createElement(\"div\", { className: '_rlayers_RLayerVectorTile' },\n            React.createElement(RContext.Provider, { value: Object.assign(Object.assign({}, this.context), { layer: this.ol, vectortilelayer: this.ol }) }, this.props.children)));\n    }\n}\n//# sourceMappingURL=RLayerVectorTile.js.map","import ImageLayer from 'ol/layer/Image';\nimport ImageWMS from 'ol/source/ImageWMS';\nimport { default as RLayerRaster } from './RLayerRaster';\n/**\n * A layer that renders WMS maps as a single image\n */\nexport default class RLayerWMS extends RLayerRaster {\n    constructor(props, context) {\n        super(props, context);\n        this.createSource();\n        this.ol = new ImageLayer({ source: this.source });\n        this.eventSources = [this.ol, this.source];\n    }\n    createSource() {\n        const { params, url } = this.props;\n        const options = { params, url };\n        this.source = new ImageWMS(options);\n        this.eventSources = [this.ol, this.source];\n    }\n    refresh(prevProps) {\n        super.refresh(prevProps);\n        this.createSource();\n        this.ol.setSource(this.source);\n        this.attachOldEventHandlers(this.source);\n    }\n}\n//# sourceMappingURL=RLayerWMS.js.map","import { Tile as LayerTile } from 'ol/layer';\nimport { default as SourceWMTS, optionsFromCapabilities } from 'ol/source/WMTS';\nimport WMTSCapabilities from 'ol/format/WMTSCapabilities';\nimport { default as RLayerRaster } from './RLayerRaster';\nimport debug from '../debug';\n/**\n * A layer for WMTS-compatible raster tile servers\n *\n * Requires an `RMap` context\n */\nexport default class RLayerWMTS extends RLayerRaster {\n    constructor(props, context) {\n        super(props, context);\n        this.ol = new LayerTile({ source: this.source });\n        this.parser = new WMTSCapabilities();\n        this.createSource();\n    }\n    createSource() {\n        debug('createSource', this);\n        return fetch(this.props.url)\n            .then((r) => r.text())\n            .then((text) => {\n            const caps = this.parser.read(text);\n            this.options = optionsFromCapabilities(caps, {\n                layer: this.props.layer\n            });\n            if (this.props.attributions)\n                this.options.attributions = this.props.attributions;\n            this.options.crossOrigin = '';\n            if (this.props.projection)\n                this.options.projection = this.props.projection;\n            this.options.wrapX = false;\n            this.source = new SourceWMTS(this.options);\n            this.ol.setSource(this.source);\n            this.eventSources = [this.ol, this.source];\n            if (this.props.onCapabilities)\n                this.props.onCapabilities.call(this, this.options);\n            return this.source;\n        })\n            .catch((e) => {\n            // eslint-disable-next-line no-console\n            console.error('failed loading WMTS', this.props.url, this.props.layer, e);\n            this.source = undefined;\n            return null;\n        });\n    }\n    refresh(prevProps) {\n        super.refresh();\n        if ((prevProps === null || prevProps === void 0 ? void 0 : prevProps.url) !== this.props.url || (prevProps === null || prevProps === void 0 ? void 0 : prevProps.layer) !== this.props.layer) {\n            this.createSource().then(() => {\n                this.ol.setSource(this.source);\n                this.attachOldEventHandlers(this.source);\n            });\n        }\n        else {\n            if (this.props.onCapabilities)\n                this.props.onCapabilities.call(this, this.options);\n        }\n    }\n}\n//# sourceMappingURL=RLayerWMTS.js.map","import React from 'react';\nimport { Map, View } from 'ol';\nimport { RContext } from './context';\nimport { RlayersBase } from './REvent';\n/**\n * Main map component\n *\n * All other components, except `RStyle` should be part of an `RMap`\n */\nexport default class RMap extends RlayersBase {\n    constructor(props) {\n        super(props);\n        this.updateView = (e) => {\n            var _a;\n            const view = this.ol.getView();\n            if (typeof ((_a = this.props) === null || _a === void 0 ? void 0 : _a.view[1]) === 'function')\n                this.props.view[1]({\n                    center: view.getCenter(),\n                    zoom: view.getZoom(),\n                    resolution: view.getResolution()\n                });\n        };\n        this.target = React.createRef();\n        this.ol = new Map({\n            controls: props.noDefaultControls ? [] : undefined,\n            interactions: props.noDefaultInteractions ? [] : undefined,\n            view: new View({\n                projection: props.projection,\n                center: props.initial.center,\n                zoom: props.initial.resolution === undefined ? props.initial.zoom : undefined,\n                resolution: props.initial.resolution,\n                extent: props.extent,\n                minResolution: props.minResolution,\n                maxResolution: props.maxResolution,\n                constrainResolution: props.constrainResolution,\n                minZoom: props.minZoom,\n                maxZoom: props.maxZoom,\n                enableRotation: props.enableRotation,\n                constrainRotation: props.constrainRotation\n            })\n        });\n        if (this.props.view)\n            this.ol.on('moveend', this.updateView);\n    }\n    componentDidMount() {\n        super.componentDidMount();\n        this.ol.setTarget(this.target.current);\n    }\n    refresh(prevProps) {\n        super.refresh(prevProps);\n        const view = this.ol.getView();\n        for (const p of ['minZoom', 'maxZoom', 'constrainResolution']) {\n            const m = p.charAt(0).toUpperCase() + p.substring(1);\n            if (!prevProps || this.props[p] !== prevProps[p])\n                view['set' + m](this.props[p]);\n        }\n        if (this.props.view) {\n            view.setCenter(this.props.view[0].center);\n            if (this.props.view[0].resolution === undefined)\n                view.setZoom(this.props.view[0].zoom);\n            else\n                view.setResolution(this.props.view[0].resolution);\n        }\n        if (this.props.properties)\n            this.ol.setProperties(this.props.properties);\n        if (this.props.view)\n            this.ol.on('moveend', this.updateView);\n        else\n            this.ol.un('moveend', this.updateView);\n    }\n    render() {\n        return (React.createElement(\"div\", { className: this.props.className, style: { width: this.props.width, height: this.props.height }, ref: this.target },\n            React.createElement(RContext.Provider, { value: { map: this.ol } }, this.props.children)));\n    }\n}\n//# sourceMappingURL=RMap.js.map","import { Tile as LayerTile } from 'ol/layer';\nimport { OSM } from 'ol/source';\nimport { default as LayerRaster } from './RLayerRaster';\n/**\n * An OpenStreetMap layer\n *\n * Requires an `RMap` context\n */\nexport default class ROSM extends LayerRaster {\n    constructor(props, context) {\n        super(props, context);\n        this.source = new OSM();\n        this.ol = new LayerTile({ source: this.source });\n        this.eventSources = [this.ol, this.source];\n    }\n    refresh(prevProps) {\n        super.refresh(prevProps);\n        this.ol.setProperties({ label: 'OpenStreetMap' });\n    }\n}\n//# sourceMappingURL=ROSM.js.map","import { WebGLTile as LayerTileWebGL } from 'ol/layer';\nimport { OSM } from 'ol/source';\nimport { default as RLayerWebGL } from './RLayerWebGL';\n/**\n * An OpenStreetMap layer rendered by WebGL\n *\n * Requires an `RMap` context\n */\nexport default class ROSMWebGL extends RLayerWebGL {\n    constructor(props, context) {\n        super(props, context);\n        this.source = new OSM();\n        this.ol = new LayerTileWebGL({ source: this.source, cacheSize: props.cacheSize });\n        this.eventSources = [this.ol, this.source];\n    }\n    refresh(prevProps) {\n        super.refresh(prevProps);\n        this.ol.setProperties({ label: 'OpenStreetMap' });\n    }\n}\n//# sourceMappingURL=ROSMWebGL.js.map","import { ROverlayBase } from './ROverlay';\n/**\n * Popup component\n *\n * `Popup` extends `Overlay` and implements an automatic popup\n *\n * Requires a location context\n *\n * (ie it must be descendant of a `RFeature`)\n */\nexport default class RPopup extends ROverlayBase {\n    constructor(props, context) {\n        super(props, context);\n        /**\n         * Toggle the state\n         */\n        this.toggle = () => {\n            this.visible = !this.visible;\n            this.setPosition();\n        };\n        /**\n         * Show the popup\n         */\n        this.show = () => {\n            var _a, _b;\n            if (this.showing)\n                return;\n            if (this.hiding)\n                window.clearTimeout(this.hiding);\n            this.showing = window.setTimeout(() => {\n                this.visible = true;\n                this.setPosition();\n                this.hiding = this.showing = undefined;\n            }, (_b = (_a = this.props.delay) === null || _a === void 0 ? void 0 : _a.show) !== null && _b !== void 0 ? _b : 250);\n        };\n        /**\n         * Hide the popup\n         */\n        this.hide = () => {\n            var _a, _b;\n            if (this.hiding)\n                return;\n            if (this.showing)\n                window.clearTimeout(this.showing);\n            this.hiding = window.setTimeout(() => {\n                this.visible = false;\n                this.setPosition();\n                this.hiding = this.showing = undefined;\n            }, (_b = (_a = this.props.delay) === null || _a === void 0 ? void 0 : _a.hide) !== null && _b !== void 0 ? _b : 50);\n        };\n        this.visible = false;\n    }\n    componentWillUnmount() {\n        super.componentWillUnmount();\n        this.unregister();\n    }\n    setPosition() {\n        this.ol.setPosition(this.visible ? this.context.location : undefined);\n    }\n    unregister() {\n        this.context.feature.un('click', this.toggle);\n        this.context.feature.un('pointerenter', this.show);\n        this.context.feature.un('pointerleave', this.hide);\n    }\n    refresh() {\n        this.ol.setElement(this.containerRef.current);\n        this.unregister();\n        switch (this.props.trigger) {\n            default:\n            case 'click':\n                this.context.feature.on('click', this.toggle);\n                break;\n            case 'hover':\n                this.context.feature.on('pointerenter', this.show);\n                this.context.feature.on('pointerleave', this.hide);\n                break;\n        }\n        this.setPosition();\n    }\n}\n//# sourceMappingURL=RPopup.js.map"],"names":["rlayers","exports","ol","Event","Vector","React","layer","source","BaseEvent","extent","ReactDOM","Style","SourceWMTS","WMTSCapabilities","ImageLayer","ImageWMS","SourceImage","LayerGraticule","style","TileLayer","TileWMS","control","OLMousePosition","OLZoomToExtent","DragBox","Translate","Draw","Modify","DoubleClickZoom","DragPan","DragRotate","DragZoom","MouseWheelZoom","PinchRotate","PinchZoom","KeyboardPan","KeyboardZoom","Geolocation","_interopDefaultLegacy","e","default","Event__default","React__default","BaseEvent__default","ReactDOM__default","Style__default","SourceWMTS__default","WMTSCapabilities__default","ImageLayer__default","ImageWMS__default","SourceImage__default","LayerGraticule__default","TileLayer__default","TileWMS__default","OLMousePosition__default","OLZoomToExtent__default","DragBox__default","Translate__default","Draw__default","Modify__default","DoubleClickZoom__default","DragPan__default","DragRotate__default","DragZoom__default","MouseWheelZoom__default","PinchRotate__default","PinchZoom__default","KeyboardPan__default","KeyboardZoom__default","Geolocation__default","RContext","createContext","debug","process","env","RLAYERS_DEBUG","console","bind","window","RlayersBase","PureComponent","olEventName","ev","substring","toLowerCase","attachEventHandlers","_a","_b","eventSources","this","newEvents","Object","keys","props","filter","p","startsWith","eventsToCheck","concat","handlers","includes","undefined","un","call","on","attachOldEventHandlers","newSource","events","refresh","prevProps","componentDidMount","propsDiff","prev","k","componentDidUpdate","snap","componentWillUnmount","h","render","contextType","RLayer","constructor","context","super","map","addLayer","Error","m","charAt","toUpperCase","attributions","setAttributions","properties","setProperties","removeLayer","createElement","className","Provider","value","assign","children","RLayerRaster","perf","performance","now","Date","AC","AbortController","signal","AS","abort","reason","aborted","dispatchEvent","type","target","hasAbortSignal","AbortSignal","hasACAbortSignal","_listeners","onabort","forEach","f","addEventListener","fn","push","removeEventListener","warned","Set","deprecatedOption","opt","instead","code","shouldWarn","warn","LRUCache","deprecatedMethod","method","prototype","get","getOwnPropertyDescriptor","emitWarning","a","error","has","what","add","isPosInt","n","Math","floor","isFinite","getUintArray","max","pow","Uint8Array","Uint16Array","Uint32Array","Number","MAX_SAFE_INTEGER","ZeroArray","Array","size","fill","Stack","UintArray","heap","length","pop","options","ttl","ttlResolution","ttlAutopurge","updateAgeOnGet","updateAgeOnHas","allowStale","dispose","disposeAfter","noDisposeOnSet","noUpdateTTL","maxSize","maxEntrySize","sizeCalculation","fetchMethod","fetchContext","noDeleteOnFetchRejection","noDeleteOnStaleGet","allowStaleOnFetchRejection","allowStaleOnFetchAbort","ignoreFetchAbort","maxAge","stale","TypeError","keyMap","Map","keyList","valList","next","head","tail","free","initialFill","disposed","initializeSizeTracking","initializeTTLTracking","getRemainingTTL","key","Infinity","ttls","starts","setItemTTL","index","start","t","setTimeout","isStale","delete","unref","updateItemAge","statusTTL","status","cachedNow","getNow","remainingTTL","_index","_status","_ttl","_start","calculatedSize","sizes","removeItemSize","requireSize","v","isBackgroundFetch","addItemSize","evict","entrySize","totalCalculatedSize","_size","_k","_v","indexes","i","isValidIndex","rindexes","entries","rentries","rkeys","values","rvalues","Symbol","iterator","find","getOptions","__staleWhileFetching","thisp","rforEach","prune","purgeStale","deleted","dump","arr","entry","age","unshift","load","clear","set","_reason","maxEntrySizeExceeded","newIndex","moveToTail","oldVal","__abortController","oldValue","shift","val","peek","backgroundFetch","ac","fetchOpts","cb","updateCache","ignoreAbort","fetchAborted","fetchError","fetchAbortIgnored","fetchResolved","fetchUpdated","fetchFail","er","allowStaleAborted","noDelete","returnedStale","__returned","fetchDispatched","Promise","res","rej","then","fetchRejected","hasOwnProperty","fetch","forceRefresh","hasStale","staleVal","fetching","connect","del","reset","field","deprecatedProperty","LRU","RStyle","r","hash","cache","cacheId","zIndex","document","cacheSize","_c","_d","_e","_f","_g","styleArray","feature","setStyle","vectorlayer","vectortilelayer","setZIndex","getStyle","current","getStyleStatic","asRStyle","RFeatureUIEvent","MapBrowserEvent","RFeatureBaseEvent","RFeature","Feature","geometry","initEventRelay","onchange","forceUpdate","pointerEvents","eventRelay","fr","event","triggered","forEachFeatureAtPixel","pixel","l","hitTolerance","dragging","lastFeaturesDragged","originalEvent","lastFeaturesEntered","setGeometry","vectorsource","addFeature","removeFeature","getGeometry","getExtent","center","getCenter","location","RLayerBaseVector","newFeature","attachFeatureHandlers","features","relayedEvents","createSource","forEachFeature","getFeatures","click","pointermove","pointerenter","pointerleave","RBaseStyle","create","classProps","prevState","snapshot","RStroke","Stroke","setStroke","RFill","Fill","setFill","RImage","setImage","RRegularBase","s","stroke","RCircle","Circle","RRegularShape","RegularShape","RText","Text","setText","RBackground","parent","setBackgroundFill","setBackgroundStroke","RIcon","Icon","index$2","freeze","__proto__","useRStyle","useRef","createRStyle","createRef","RStyleArray","element","Children","child","isValidElement","childRefs","Fragment","RLayerWebGL","RControlBase","toOLProps","addControl","removeControl","index$1","RScaleLine","ScaleLine","minWidth","bar","text","units","RAttribution","Attribution","collapsed","setCollapsed","collapsible","RZoom","Zoom","duration","zoomInLabel","zoomOutLabel","zoomInTipLabel","zoomOutTipLabel","delta","RZoomSlider","ZoomSlider","RRotate","OLRRotate","Rotate","label","autoHide","RCustom","targetRef","Control","join","ref","RLayers","clickCollapse","setState","state","visible","labels","onClick","id","toString","name","checked","onChange","htmlFor","cloneElement","ROverviewMap","OverviewMap","collapseLabel","width","height","getOverviewMap","RFullScreen","FullScreen","labelActive","tipLabel","RMousePosition","coordinateFormat","projection","placeholder","RZoomToExtent","RBaseInteraction","addInteraction","createOL","removeInteraction","RPointer","RDragBox","reduce","RTranslate","RDraw","RModify","RDoubleClickZoom","RDragPan","RDragRotate","RDragZoom","RMouseWheelZoom","RPinchRotate","RPinchZoom","RKeyboardPan","RKeyboardZoom","ROverlayBase","Overlay","autoPan","containerRef","setPosition","autoPosition","position","getPixelFromCoordinate","getSize","left","right","top","bottom","setElement","addOverlay","removeOverlay","defineProperty","enumerable","MapEvent","VectorSourceEvent","RControl","RGeolocation","getView","getProjection","RInteraction","RLayerCluster","cluster","SourceVector","url","format","loader","wrapX","strategy","SourceCluster","Cluster","distance","LayerVector","setDistance","setUrl","RLayerGraticule","strokeStyle","getStroke","lonText","lonLabelStyle","getText","latText","latLabelStyle","old","RLayerHeatmap","LayerHeatmap","blur","setBlur","radius","setRadius","RLayerImage","LayerImage","imageExtent","imageSize","setSource","RLayerStamen","Stamen","LayerTile","Tile","RLayerTile","XYZ","interpolate","noIterpolation","tileGrid","crossOrigin","RLayerTileJSON","TileJSON","RLayerTileWMS","params","RLayerTileWebGL","LayerTileWebGL","opacity","RLayerVector","RLayerVectorImage","LayerVectorImage","RLayerVectorTile","SourceVectorTile","LayerVectorTile","renderBuffer","x","RLayerWMS","RLayerWMTS","parser","caps","read","optionsFromCapabilities","onCapabilities","catch","RMap","updateView","view","zoom","getZoom","resolution","getResolution","controls","noDefaultControls","interactions","noDefaultInteractions","View","initial","minResolution","maxResolution","constrainResolution","minZoom","maxZoom","enableRotation","constrainRotation","setTarget","setCenter","setZoom","setResolution","ROSM","LayerRaster","OSM","ROSMWebGL","WebGLTile","ROverlay","RPopup","toggle","show","showing","hiding","clearTimeout","delay","hide","unregister","trigger","WMTS","Image","ImageStatic","Graticule","MousePosition","ZoomToExtent","interaction"],"mappings":"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"}